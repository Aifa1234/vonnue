
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="0577a6b7-bfc5-5116-ad2c-9e00b5cfe686")}catch(e){}}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="be985680-8cf0-4faa-9dda-a04c03e9b7dd",e._sentryDebugIdIdentifier="sentry-dbid-be985680-8cf0-4faa-9dda-a04c03e9b7dd")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[40771],{859557:function(e,t,n){n.d(t,{G1:function(){return u},IO:function(){return g},S1:function(){return f},S7:function(){return p},Y3:function(){return h},YX:function(){return c},_L:function(){return m},_R:function(){return x},ll:function(){return _}});var r=n(159967),o=n(892690),i=n(560930),a=n(655914),s=n(45918),l=n(918821),d=n(918564);let u=304,c=228,f=162,m=d.default.div.withConfig({componentId:"sc-7b550f05-0"})(["background-color:",";min-width:","px;border-radius:","px;break-inside:avoid;display:flex;flex-direction:column;height:100%;@media screen and (max-width:","px){min-width:unset;}",""],r.Q2.usage.color.background.default,304,e=>{let{borderRadius:t}=e;return t},o.u3.mobile,e=>{let{isCondensed:t}=e;return!t&&(0,d.css)(["border:"," solid ",";"],r.Q2.usage.borderWidth.default,r.Q2.usage.color.border.default)}),p=d.default.div.withConfig({componentId:"sc-7b550f05-1"})(["position:relative;height:","px;overflow:hidden;border-radius:",";@media screen and (max-width:","px){height:","px;}"],c,e=>{let{borderRadius:t,isCondensed:n}=e;return n?"".concat(t-1,"px"):"".concat(t-1,"px ").concat(t-1,"px 0 0")},o.u3.mobile,f),_=(0,d.default)(i.x).attrs(()=>({textStyle:a.TextStyle.label.medium.strong,color:a.d9.text.default,textAlign:s.H.left,overflow:s.lG.truncate})).withConfig({componentId:"sc-7b550f05-2"})([""]),x=(0,d.default)(i.x).attrs(()=>({textStyle:a.TextStyle.label.small.default,color:a.d9.text.subdued.default,maxLines:2,minLines:2,overflow:s.lG.truncate,textAlign:s.H.left})).withConfig({componentId:"sc-7b550f05-3"})(["height:60px;"]),h=(0,d.default)(i.x).attrs(()=>({textStyle:a.TextStyle.label.small.default,color:a.d9.text.subdued.default,maxLines:1,minLines:1,overflow:s.lG.truncate,textAlign:s.H.left})).withConfig({componentId:"sc-7b550f05-4"})(["height:20px;margin-top:auto;"]),g=(0,d.default)(l.Z).withConfig({componentId:"sc-7b550f05-5"})(["border-radius:0 0 ",";flex-grow:1;display:flex;flex-direction:column;gap:",";@media screen and (max-width:","px){gap:",";}"],e=>{let{borderRadius:t}=e;return"".concat(t,"px ").concat(t,"px")},r.Q2.usage.space.xSmall,o.u3.mobile,r.Q2.usage.space.xxxSmall)},257366:function(e,t,n){n.d(t,{P:function(){return r}});let r=n(313773).createContext({isDineIn:!1,tableId:null,isStaticMenu:!1})},425287:function(e,t,n){n.d(t,{S:function(){return l},k:function(){return d}});var r=n(731690),o=n(538763);let{PersonUserLine:i,RewardLine:a,MoneyCircleLine:s}=n(484497).IconType,l=(e,t)=>!e||isNaN(Number(e))?e:new Intl.NumberFormat(t).format(Number(e)),d=(e,t,n)=>{let d=l(e,(0,o.bU)()),u=[{icon:i,title:r.ZP.t("menu_memberNumberWithInterpolation",{memberNumber:n})},{icon:s,title:r.ZP.t("menu_currentBalanceWithPoints",{points:d})}];return t&&u.push({icon:a,title:r.ZP.t("menu_statusLevelWithInterpolation",{accountTier:t})}),u[u.length-1].isLast=!0,u}},195117:function(e,t,n){n.d(t,{G:function(){return i}}),n(361967);var r=n(313773);n(751313),n(691550),n(217730),n(951584);let o=r.createContext({}),i=()=>{let e=r.useContext(o);if(null===e)throw Error("useLoyaltyInformation must be used within a LoyaltyInformationProvider");return e}},951584:function(e,t,n){n.d(t,{Vs:function(){return a},ex:function(){return d},lj:function(){return i}}),n(361967);var r,o,i,a,s=n(313773);n(217730),(r=i||(i={}))[r.OTP_SUCCESS=0]="OTP_SUCCESS",r[r.RESET_SIGNED_IN_TOAST=1]="RESET_SIGNED_IN_TOAST",r[r.PHONE_ERROR=2]="PHONE_ERROR",r[r.LOYALTY_LOGIN_TYPE=3]="LOYALTY_LOGIN_TYPE",r[r.RESET_LOYALTY_LOGIN_TYPE=4]="RESET_LOYALTY_LOGIN_TYPE",(o=a||(a={})).Missing="phone_is_missing",o.Conflict="phone_already_used",o.Update="phone_needs_update";let l=s.createContext({}),d=()=>{let e=s.useContext(l);if(null===e)throw Error("useLoyaltyUiState must be used within a LoyaltyInformationProvider");return e}},490558:function(e,t,n){n.d(t,{LZ:function(){return c},T_:function(){return s},WG:function(){return l},jg:function(){return u},wH:function(){return d}});var r=n(159967),o=n(892690),i=n(918564),a=n(859557);i.default.div.withConfig({componentId:"sc-5f04a4fc-0"})(["width:100%;margin-top:40px;"]),i.default.div.withConfig({componentId:"sc-5f04a4fc-1"})(["padding:0;margin:"," 0 ",";@media screen and (min-width:","px) and (max-width:","px){padding:0 ",";}"],r.Q2.usage.space.xLarge,r.Q2.usage.space.medium,o.u3.mobile+1,o.u3.tablet-1,r.Q2.usage.space.medium),i.default.div.withConfig({componentId:"sc-5f04a4fc-2"})(["margin-bottom:",";"],r.Q2.usage.space.medium),i.default.div.withConfig({componentId:"sc-5f04a4fc-3"})(["display:grid;grid-template-columns:repeat(2,calc(50% - 8px));grid-column-gap:",";grid-row-gap:",";@media (max-width:","px){grid-template-columns:100%;}@media (max-width:","px){margin-left:calc(-1 * ",");width:calc(100% + "," * 2);grid-row-gap:0px;}"],r.Q2.usage.space.medium,r.Q2.usage.space.medium,o.u3.tablet,o.u3.mobile,r.Q2.usage.space.medium,r.Q2.usage.space.medium);let s=i.default.div.withConfig({componentId:"sc-5f04a4fc-4"})(["display:grid;column-gap:",";row-gap:",";grid-template-columns:repeat(4,minmax(","px,1fr));@media screen and (max-width:","px){display:grid;grid-template-columns:repeat(3,minmax(","px,1fr));}@media screen and (max-width:","px){display:grid;grid-template-columns:repeat(2,minmax(","px,1fr));}@media screen and (max-width:","px){display:grid;grid-template-columns:repeat(2,minmax(","px,1fr));}@media screen and (max-width:","px){column-gap:",";row-gap:",";grid-template-columns:repeat( auto-fill,minmax(min(100%,","px),1fr) );}"],r.Q2.usage.space.large,r.Q2.usage.space.large,304,o.u3.ultraWideScreen,304,o.u3.desktop,304,o.u3.desktop,200,o.u3.mobile,r.Q2.usage.space.medium,r.Q2.usage.space.medium,162),l=i.default.div.withConfig({componentId:"sc-5f04a4fc-5"})(["position:absolute;top:",";right:",";@media screen and (max-width:","px){top:",";}"],e=>{let{useIconQuickAddButton:t}=e;return t?"".concat(a.YX-42,"px"):r.Q2.usage.space.medium},e=>{let{useIconQuickAddButton:t}=e;return t?r.Q2.usage.space.small:r.Q2.usage.space.medium},o.u3.mobile,e=>{let{useIconQuickAddButton:t}=e;return t?"".concat(a.S1-42,"px"):r.Q2.usage.space.medium}),d=i.default.div.withConfig({componentId:"sc-5f04a4fc-6"})(["height:100%;& button{height:100%;align-items:stretch;}& button > span,& button > span > span{align-items:stretch;display:flex;flex-grow:1;}"]),u=i.default.span.withConfig({componentId:"sc-5f04a4fc-7"})(["transform:scale(0.835) translateY(1px);display:inline-flex;align-items:center;margin-right:",";"],r.Q2.usage.space.xxxSmall);i.default.div.withConfig({componentId:"sc-5f04a4fc-8"})(["& span{filter:",";}"],e=>e.isDarkTheme?"none":"brightness(0.6) saturate(2)");let c=i.default.div.withConfig({componentId:"sc-5f04a4fc-9"})(["height:",";width:auto;"],r.Q2.usage.space.small)},888417:function(e,t,n){n.d(t,{R:function(){return s},V:function(){return l}});var r=n(361967),o=n(313773);let i=o.createContext({});var a=n(253633);let s=e=>{let{children:t}=e,[n,o]=(0,a.Z)();return(0,r.jsx)(i.Provider,{value:{state:n,dispatch:o},children:t})},l=()=>{let e=o.useContext(i);if(null===e)throw Error("useMenuPageLayoutContext must be used within a MenuPageLayoutContextProvider");return e}},253633:function(e,t,n){n.d(t,{Z:function(){return s},r:function(){return r}});var r,o=n(313773);(r||(r={})).StickyFooter="StickyFooter";let i={stickyFooter:{isShown:!1,margin:{heightAdjustment:0}}},a=(e,t)=>"StickyFooter"===t.type?{...e,stickyFooter:{...t.data}}:e;function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o.useReducer(a,{...i,...e})}},584406:function(e,t,n){n.d(t,{G:function(){return i},U:function(){return o}});var r=n(714313);let o=()=>!!(0,r.UO)().preview,i=()=>!!(0,r.UO)().activationPreview},218731:function(e,t,n){var r=n(361967),o=n(313773),i=n(206716),a=n(536636),s=n(14254),l=n(217730),d=n(960458);t.Z=e=>{let{createMode:t=!1,onSuccess:n=()=>0,onError:u=()=>0,phone:c="",isLoyaltySignUp:f,onClose:m,onBack:p,userAccountInfo:_}=e,[x,h]=o.useState(!1),[g,b]=o.useState(),y=(0,a.f)(),v=()=>{h(!0),y("cx_storefront_show_signup_verification_modal")},{sendOTP:w}=(0,i.V)(),{verifyAndRegister:C}=(0,s.P)(_);o.useEffect(()=>{v()}),o.useEffect(()=>{t||f||(y("cx_storefront_send_otp",{createMode:t}),c&&w(c),setTimeout(()=>h(!0),3e3))},[]);let Z=o.useCallback(async e=>{y("cx_storefront_signup_atempted",{createMode:t});try{b(null),await C({code:e}),y("cx_storefront_signup_success",{createMode:t}),n()}catch(n){let e=(0,l.he)(n);y("cx_storefront_signup_failure",{error:n.message,parsedError:e.message,createMode:t}),b(e)}},[y,t,C,n]);return(0,r.jsx)(o.Fragment,{children:x&&(0,r.jsx)(d.Z,{onSuccess:n,onPrimaryActionClick:Z,onError:u,sendOTPOnLoad:t||f,isAutoOpened:!t||f,onClose:()=>{y("cx_storefront_hide_signup_verification_modal"),h(!1),m()},error:g?g.message:void 0,phone:c,showCloseButton:f,onBack:p})})}},865221:function(e,t,n){var r=n(361967),o=n(902093),i=n(996870);n(313773);var a=n(731690),s=n(818617),l=n(217730);t.Z=e=>{let{firstName:t,lastName:n,setFirstName:d,setLastName:u}=e;return(0,r.jsxs)(o.Z,{"data-anchor-id":s.StorefrontAnchors.NameRow,children:[(0,r.jsx)(i.Z,{label:a.ZP.t("profilePageStrings_firstName"),onChange:e=>{(0,l.IV)(l.ul,e),d(e)},value:t,placeholder:a.ZP.t("menu_enterFirstName"),isRequired:!0}),(0,r.jsx)(i.Z,{label:a.ZP.t("profilePageStrings_lastName"),onChange:e=>{(0,l.IV)(l.ke,e),u(e)},value:n,placeholder:a.ZP.t("menu_enterLastName"),isRequired:!0})]})}},407350:function(e,t,n){var r=n(361967),o=n(232755),i=n(509300),a=n(466600),s=n(375236),l=n(313773),d=n(731690),u=n(642429),c=n(818617),f=n(380016),m=n(217730),p=n(865221);t.Z=e=>{let{currencyCode:t,email:n,firstName:_,lastName:x,phoneNumber:h="",setEmail:g,setFirstName:b,setLastName:y,setPhoneNumber:v}=e,[w,C]=l.useState((0,f.pt)(t));return(0,r.jsxs)(o.Z,{"data-anchor-id":c.StorefrontAnchors.ContactInfoPanel,size:i.Uo.large,children:[(0,r.jsx)(p.Z,{firstName:_,lastName:x,setFirstName:b,setLastName:y}),!!v&&(0,r.jsx)(a.Z,{"data-anchor-id":c.StorefrontAnchors.Phone,availableCountries:Object.values(u.nR),value:h,onChange:(e,t)=>{var n,r;let o=(0,f.BH)(null!==(r=null==t?void 0:null===(n=t.number)||void 0===n?void 0:n.number)&&void 0!==r?r:e,w);(0,m.IV)(m.kk,o),v(o)},onCountryChange:e=>C(e),currentCountry:w,placeholder:(0,f.Yq)(w),label:d.ZP.t("profilePageStrings_phoneNumber"),isInternationalEnabled:!0,countryLabel:d.ZP.t("profilePageStrings_countries_country")}),(0,r.jsx)(s.Z,{"data-anchor-id":c.StorefrontAnchors.Email,label:d.ZP.t("profilePageStrings_email"),value:n,placeholder:d.ZP.t("menu_enterEmail"),onChange:e=>{g(e),(0,m.I4)(e)},isRequired:!0})]})}},998877:function(e,t,n){n.d(t,{Z:function(){return D}});var r=n(361967),o=n(74152),i=n(802736),a=n(159967),s=n(190510),l=n(549736),d=n(560930),u=n(613531),c=n(509300),f=n(313773),m=n(731690),p=n(956579),_=n(47875),x=n(195117),h=n(260014),g=n(536636),b=n(218731),y=n(407350),v=n(924627),w=n(217730),C=n(538763),Z=n(232755),S=n(655914),P=n(902093),j=n(645827),k=n(484497),I=n(437712),E=n(861150),L=n(490558),T=n(818617),N=n(714313),O=n(691550);let A=(0,n(918564).default)(d.x).attrs({textStyle:S.TextStyle.title.medium}).withConfig({componentId:"sc-b1fdd056-0"})(["font-size:20px;font-style:normal;letter-spacing:-0.01px;"]);var R=n(258198),Q=n(821753),F=n(330871),U=n(526372);let Y=e=>{let{currency:t,distanceFromReward:n,rewardAmount:r,rewardThreshold:o,userLocale:i}=e,a={currency:t,userLocale:i,concise:!0};return{formattedRewardAmount:(0,U.lb)({unitAmount:100*r,...a}),formattedRewardThreshold:(0,U.lb)({unitAmount:100*o,...a}),formattedDistanceFromReward:(0,U.lb)({unitAmount:100*n,...a})}};var z=e=>{var t,n,a;let{exitWizard:l,setShowEnjoyRewardsToTheFullestModal:u,isOpen:p}=e,{storeInformation:_}=(0,h.TX)(),{businessInformation:x}=f.useContext(I.Z),g=(0,N.UO)(),{distanceFromReward:b,progress:y,rewardAmount:v,rewardThreshold:w}=(0,O._4)(null==g?void 0:g.state),U=null!==(n=x.businessName||(null==_?void 0:_.name))&&void 0!==n?n:"",z=(0,C.bU)(),B=(0,R.W)(),{formattedDistanceFromReward:D,formattedRewardAmount:G,formattedRewardThreshold:H}=Y({currency:(0,Q.Z)(null!==(a=null==B?void 0:null===(t=B.defaultAddress)||void 0===t?void 0:t.countryCode)&&void 0!==a?a:F.E),distanceFromReward:b,rewardAmount:v,rewardThreshold:w,userLocale:z});return(0,r.jsx)(o.Z,{isOpen:p,onClose:()=>{l(!1),u(!1)},useHairlineDividers:!0,isFullScreenOnMobile:!0,size:i.C.medium,hasContentPadding:!0,title:m.ZP.t("benefitsStrings_rewards_subtitle",{provider:U}),children:(0,r.jsxs)(Z.Z,{size:c.Uo.small,"data-testid":T.StorefrontAnchors.EnjoyRewardsToTheFullestBanner,children:[(0,r.jsx)(E.E,{isContentHorizontal:!1,title:m.ZP.t("storefront_youre_distance_away",{distanceFromReward:D}),subtitle:m.ZP.t("storefront_reward_for_every",{rewardAmount:G,rewardThreshold:H}),progress:y,isMobile:!0}),(0,r.jsx)(L.LZ,{}),(0,r.jsx)(A,{children:m.ZP.t("storefront_enjoy_rewards_to_the_fullest")}),(0,r.jsx)(d.x,{textStyle:S.TextStyle.label.medium.default,children:m.ZP.t("storefront_complete_your_profile_to_view_and_redeem")}),(0,r.jsx)(s.Z,{onClick:()=>u(!1),children:m.ZP.t("storefront_complete_your_profile")}),(0,r.jsx)(L.LZ,{}),(0,r.jsx)(A,{children:m.ZP.t("storefront_how_our_rewards_work")}),(0,r.jsxs)(d.x,{textStyle:S.TextStyle.label.xSmall.default,children:[(0,r.jsxs)(P.Z,{children:[(0,r.jsx)(j.Z,{type:k.IconType.OrderBatchLine}),(0,r.jsx)(d.x,{children:m.ZP.t("storefront_place_multiple_orders_from",{rewardThreshold:w,restaurantName:U})})]}),(0,r.jsxs)(P.Z,{children:[(0,r.jsx)(j.Z,{type:k.IconType.RewardLine}),(0,r.jsx)(d.x,{children:m.ZP.t("storefront_once_a_reward_is")})]}),(0,r.jsxs)(P.Z,{children:[(0,r.jsx)(j.Z,{type:k.IconType.PriceTagClockLine}),(0,r.jsx)(d.x,{children:m.ZP.t("storefront_earned_rewards_must_be")})]}),m.ZP.t("storefront_cant_be_combined")]})]})})},B=n(463204),D=e=>{var t,n,Z,S;let{onClose:P,currencyCode:j,businessId:k,setShowSignIn:I,isLoyaltySignUp:E,onSignedUpSuccess:L}=e,{membershipInfo:T}=(0,x.G)(),[N,O]=f.useState(null!==(t=null==T?void 0:T.phoneNumber)&&void 0!==t?t:""),[A,R]=f.useState(null!==(n=null==T?void 0:T.firstName)&&void 0!==n?n:""),[Q,F]=f.useState(null!==(Z=null==T?void 0:T.lastName)&&void 0!==Z?Z:""),[U,Y]=f.useState(null!==(S=null==T?void 0:T.email)&&void 0!==S?S:""),[D,G]=f.useState(null!=E&&E),[H,M]=f.useState(!1),{storeInformation:V}=f.useContext(h.ZP),$=(0,g.f)(),W=(0,C.bU)(),{title:q,subtitle:X}=(0,w.f0)();f.useEffect(()=>(0,w.TN)(!0,k)),f.useEffect(()=>{$("cx_storefront_show_create_account_modal")},[]);let J=()=>{$("cx_storefront_create_account_modal_click_sign_in"),I(!0),P()},K=!N||!A||!Q||!(0,B.v0)(U),{privacy:ee,terms:et}=(0,p.N9)({storeInformation:V,locale:W});return H?(0,r.jsx)(z,{isOpen:H,exitWizard:P,setShowEnjoyRewardsToTheFullestModal:M}):D?(0,r.jsx)(b.Z,{phone:N,createMode:!(0,w.m$)(k),isLoyaltySignUp:E,onError:P,onSuccess:()=>{P(),(0,w.TN)(!1,k),L&&L()},onClose:P,onBack:()=>G(!1),userAccountInfo:{email:U,first:A,last:Q,phone:N}}):(0,r.jsxs)(o.Z,{isOpen:!D,onClose:P,useHairlineDividers:!0,isFullScreenOnMobile:!0,size:i.C.medium,primaryAction:{text:m.ZP.t("commonStrings_wizard_next"),onClick:()=>{$("cx_storefront_create_account_modal_click_next"),G(!0)},buttonProps:{isDisabled:K}},hasContentPadding:!0,title:q,renderFooterContent:()=>(0,r.jsxs)(v.fG,{children:[(0,r.jsx)(v.Pm,{color:a.Q2.usage.color.text.subdued.default,children:m.ZP.t("storefront_signing_details")}),(0,r.jsx)(s.Z,{isInline:!0,type:l.L$.flatPrimary,padding:l.aV.none,onClick:J,children:m.ZP.t("storefront_signin_title")})]}),children:[(0,r.jsx)(d.x,{children:X}),(0,r.jsx)(u.Z,{size:c.$f.small}),(0,r.jsx)(y.Z,{currencyCode:j,phoneNumber:N,firstName:A,lastName:Q,email:U,setPhoneNumber:O,setFirstName:R,setLastName:F,setEmail:Y}),(0,r.jsx)(u.Z,{size:c.$f.legacyMedium}),(0,r.jsxs)(d.x,{children:[m.ZP.t("menu_byCreatingAnAccountYou")," ",(0,r.jsx)(_.Dz,{href:et,target:"_blank",children:m.ZP.t("checkoutStrings_orderCart_terms")}),m.ZP.t("checkoutStrings_orderCart_and")," ",(0,r.jsx)(_.Dz,{href:ee,target:"_blank",children:m.ZP.t("checkoutStrings_orderCart_privacyStatement")})]})]})}},361092:function(e,t,n){var r=n(361967),o=n(918821),i=n(509300),a=n(177560),s=n(117874),l=n(560930),d=n(655914),u=n(45918);n(313773);var c=n(731690),f=n(924627);t.Z=e=>{let{title:t,onClick:n,hasCloseButton:m=!1}=e;return(0,r.jsxs)(o.Z,{children:[m||(0,r.jsx)(f.OQ,{size:i.$f.large,children:(0,r.jsx)(a.Z,{size:s.rm.small,iconType:s.L.ArrowLeft,accessibilityLabel:c.ZP.t("storefront_user_mgmt_go_back"),onClick:n})}),(0,r.jsx)(l.x,{textStyle:d.TextStyle.display.medium,textAlign:u.H.left,children:t})]})}},310566:function(e,t,n){n.d(t,{Z:function(){return p}});var r=n(361967);n(313773);var o=n(74152),i=n(593645),a=n(549736),s=n(30541),l=n(361092),d=n(159967),u=n(190510),c=n(731690),f=n(924627),m=e=>{let{setShowSignUp:t}=e;return(0,r.jsxs)(f.fG,{children:[(0,r.jsx)(f.Pm,{color:d.Q2.usage.color.text.subdued.default,children:"".concat(c.ZP.t("menu_dontHaveAnAccount")," ")}),(0,r.jsx)(u.Z,{isInline:!0,type:a.L$.flatPrimary,padding:a.aV.none,onClick:t,children:c.ZP.t("landing_signUp")})]})},p=e=>{let{children:t,title:n="",buttonTitle:d,onClose:u=()=>0,onBack:c,onPrimaryActionClick:f=()=>0,hasCloseButton:p=!1,buttonDisabled:_=!1,isLoading:x=!1,showSignUpInFooter:h=!1,setShowSignUp:g=()=>0}=e;return(0,r.jsx)(o.Z,{isOpen:!0,"data-testid":"OtpModal",hasCloseButton:p,headerAlignment:i.sT.left,onClose:u,primaryAction:{text:d||"",onClick:f,buttonProps:{type:a.L$.primary,isInline:!0,isDisabled:_||x}},renderContentHeader:e=>{let{title:t}=e;return(0,r.jsx)(l.Z,{hasCloseButton:p,onClick:c||u,title:t})},renderFooterContent:h?()=>(0,r.jsx)(m,{setShowSignUp:g}):void 0,actionsFillContainer:!1,shouldStackButtons:!1,hasContentPadding:!1,shouldCloseOnEscapePress:!0,shouldCloseOnOverlayClick:!0,title:x?"":n,isFooterFixedPosition:!0,children:x?(0,r.jsx)(s.g,{}):t})}},960458:function(e,t,n){n.d(t,{z:function(){return C}});var r=n(361967),o=n(313773),i=n(918821),a=n(232755),s=n(560930),l=n(613531),d=n(190510),u=n(549736),c=n(655914),f=n(117874),m=n(204425),p=n(37174),_=n(731690),x=n(183677),h=n(536636),g=n(217730),b=n(206716),y=n(310566),v=n(951584),w=n(751313);let C=6;t.Z=e=>{let{onClose:t=()=>0,onBack:n,onPrimaryActionClick:Z=()=>0,onSuccess:S=()=>0,sendOTPOnLoad:P,isLoading:j=!1,showContinueAsGuest:k=!1,showUpdatePhoneNumberOption:I=!1,isAutoOpened:E,phone:L,error:T,showCloseButton:N,showSignUp:O,setShowSignUp:A}=e,R=null==L?void 0:L.slice(L.length-4),Q=_.ZP.t("storefront_user_mgmt_enter_code_detail",{lastFour:R,passCodeLength:C}),F=_.ZP.t("storefront_auto_open_verify_modal_description_prefix"),U=_.ZP.t("storefront_resend_button_title"),Y=_.ZP.t("storefront_user_mgmt_passcode_label"),z=_.ZP.t("storefront_usermgmt_modal_title"),B=_.ZP.t("storefront_user_mgmt_modal_primary_button_title"),[D,G]=o.useState(""),[H,M]=o.useState(),{loyaltyUiDispatch:V}=(0,v.ex)(),$=(0,h.f)(),{sendOTP:W,result:{loading:q}}=(0,b.V)(),X=_.ZP.t("storefront_checkout_continue_as_guest");o.useEffect(()=>{if(P){if(!L){M("Phone number not found. Make sure your account has a valid phone number before logging in.");return}$("cx_storefront_send_otp",{sendOTPOnLoad:P}),W(L).then(()=>{$("cx_storefront_send_otp_success",{sendOTPOnLoad:P})}).catch(e=>{$("cx_storefront_send_otp_error",{sendOTPOnLoad:P,error:e.message,parsedError:(0,g.he)(e).message})}),M("")}},[]);let J=async()=>{try{M(""),G(""),$("track_click_otp_resend_code"),$("cx_storefront_send_otp"),await W(L),$("cx_storefront_send_otp_success")}catch(t){let e=(0,g.he)(t);W(L).catch(t=>{$("cx_storefront_send_otp_error",{error:t.message,parsedError:e.message})}),M(e.message)}},K=D.length===C&&!D.includes(" ");return o.useEffect(()=>{K&&D&&($("cx_storefront_auto_submit_code"),$("track_click_otp_confirm"),Z(D,L),G(""))},[K,D,Z,$,L]),(0,r.jsx)(y.Z,{title:z,buttonTitle:B,onClose:t,onBack:n,onSuccess:()=>{S(),t(),(0,g.TN)(!1)},onPrimaryActionClick:()=>Z(D,L),buttonDisabled:!K,isLoading:j,hasCloseButton:N,showSignUpInFooter:O,setShowSignUp:A,children:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(i.Z,{children:(0,r.jsxs)(a.Z,{children:[(0,r.jsx)(s.x,{children:E?"".concat(F," ").concat(Q):Q}),(0,r.jsx)(x.Z,{label:Y,value:D,numChars:C,onChange:e=>G(e.trim()),hasError:!!T||!!H,errorMessage:T||H}),(0,r.jsx)(l.Z,{children:(0,r.jsxs)("div",{children:[(0,r.jsx)(d.Z,{"data-testid":"otp-resend-button",type:u.L$.flatPrimary,isInline:!0,state:q?u.BN.loading:u.BN.default,padding:u.aV.none,onClick:J,children:(0,r.jsx)(s.x,{color:c.d9.action.primary.default,children:U})}),I&&(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{type:u.L$.link,isInline:!0,size:f.qE.small,onClick:()=>{V({type:v.lj.PHONE_ERROR,payload:v.Vs.Update}),t()},children:(0,r.jsx)(s.x,{textStyle:c.TextStyle.label.small.default,color:c.d9.text.subdued.default,children:"Didnâ€™t receive a code?"})})}),k&&(0,r.jsx)("div",{children:(0,r.jsx)(d.Z,{type:u.L$.link,isInline:!0,onClick:()=>{$("track_click_otp_continue_as_guest"),$("cx_storefront_continue_as_guest"),(0,g.o5)(g.hB),(0,w.pC)(g.hB,"",-1,!0),t()},size:f.qE.small,children:(0,r.jsx)(s.x,{textStyle:c.TextStyle.label.small.default,color:c.d9.text.subdued.default,children:X})})})]})})]})}),(0,r.jsx)(m.Z,{type:p.C.fullBorder})]})})}}}]);
//# sourceMappingURL=40771-4f1c9e8cd44c68f0.js.map
//# debugId=0577a6b7-bfc5-5116-ad2c-9e00b5cfe686
