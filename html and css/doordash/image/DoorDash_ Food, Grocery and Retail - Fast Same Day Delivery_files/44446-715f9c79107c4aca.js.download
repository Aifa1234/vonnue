
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="27382744-7cd9-5b7c-adfd-f9653f0b5dd5")}catch(e){}}();
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="774d233e-4d60-4861-8767-8dbe1087239b",e._sentryDebugIdIdentifier="sentry-dbid-774d233e-4d60-4861-8767-8dbe1087239b")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[44446],{462986:function(e,t,n){var o=n(641760),i=n(10715),r=n(313773),l=/\d*/,d=/\d{1,}(\.)?\d*/,a=function(e,t){var n=e.match(t);return n&&n[0]},s=function(e){function t(t){var n=e.call(this,t)||this;return n.displayName="NumberField.Prism",n.isNumberWithinBounds=function(e){var t=n.props,o=t.min,i=t.max,r=o>=0,l=i>=0;return!r&&!l||l&&!r&&e<=i||r&&!l&&e>=o||r&&l&&e<=i&&e>=o},n.handleChange=function(e,t){var o=n.getValidValue(e);null!==o&&n.props.onChange(o,t,parseFloat(o))},n.formatValue=function(e){var t=n.getValidValue(e);return"number"==typeof e&&n.props.allowFloats&&console.warn("Warning! We notice that you're setting `value` to a number type and you have `allowFloats` set to true. If you are saving the input value as a number in state, your user may be unable to type a decimal separator. We recommend setting the `value` to a string, and using the third `numValue` parameter in the `onChange` params for your change handler's number-type specific needs"),null===t?"":t},n.getValidValue=function(e){if(!(t="number"==typeof e?e.toString():a(e,n.props.allowFloats?d:l)))return"";var t,o=parseFloat(t);return n.isNumberWithinBounds(o)?t:null},t.min&&t.max&&t.min>t.max&&console.warn("Min should be smaller than Max"),n}return(0,o.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=e.value,n=e.isResizeable,l=void 0===n?i.c$.isResizeable:n,d=e.size,a=void 0===d?i.c$.size:d,s=e.isRounded,u=void 0===s?i.c$.isRounded:s,c=(0,o.__rest)(e,["value","isResizeable","size","isRounded"]);return r.createElement(i.ZP,(0,o.__assign)({},c,{isResizeable:l,size:a,isRounded:u,pattern:"[0-9]*",value:this.formatValue(t),onChange:this.handleChange,type:"number",__focusBehavior:"default"}))},t.defaultProps=(0,o.__assign)((0,o.__assign)({},i.c$),{allowFloats:!1}),t}(r.PureComponent);t.Z=s},106148:function(e,t,n){n.d(t,{MZ:function(){return h},X3:function(){return p},YJ:function(){return _},ft:function(){return g},nJ:function(){return c},um:function(){return m}});var o=n(526372),i=n(892692),r=n(161964),l=n(970501),d=n(315072),a=n(960531),s=n(66445),u=n(437769);let c=e=>{let{groupCartType:t,maxIndividualCost:n,currency:i,userLocale:r}=e;if(t===l.k3x.GROUP_CART_TYPE_SPLIT_BILL)return d.Z.t("menu_groupOrderModal_groupCartTypeDescription_everyonePaysSeparately");if(!n)return d.Z.t("menu_groupOrderModal_noSpendLimitPerPerson_text");let a=(0,o.lb)({unitAmount:n||0,currency:i,userLocale:r,concise:!0});return d.Z.t("menu_groupOrderModal_spendLimitPerPerson_text",{limit:a})},p=e=>{let{timezone:t,timestampInMillis:n,userLocale:o}=e;if(!n)return d.Z.t("menu_groupOrderModal_orderDeadlineLabel_noDeadline");if(new Date().getTime()>n)return d.Z.t("menu_groupCarts_cartIsLocked");let{isToday:i,isTomorrow:r,timeOnlyString:l,dateOnlyString:a,dayOfWeekString:s}=_({timezone:t,timestampInMillis:n,userLocale:o});return i?d.Z.t("menu_groupCarts_addToCartByTime",{time:l}):r?d.Z.t("menu_groupCarts_addToCartByTomorrowAtTime",{time:l}):d.Z.t("menu_groupCarts_addToCartByDateAtTime",{date:"".concat(s,", ").concat(a),time:l})},m=e=>{let{timezone:t,isPickup:n,scheduledWindowStart:o,scheduledWindowEnd:i,orderDeadline:r,etaMinute:l,userLocale:a}=e,s=o&&i,u=!s&&r&&l;if(!s&&!u)return"";let c=u?new Date(r||"").getTime()+6e4*(l||0):0,p=new Date,m=s?o:c;if(p>new Date(m))return"";let{isToday:h,isTomorrow:g,timeOnlyString:y,dateOnlyString:C}=_({timezone:t,timestampInMillis:new Date(m).getTime(),timestampEnd:s?new Date(i).getTime():void 0,userLocale:a,options:{month:"short"}});if(u){let e="".concat(C,", ").concat(y);return h?e=y:g&&(e=d.Z.t("menu_groupOrderModal_deliveryOptionDescription_tomorrow",{timeDisplay:y})),n?d.Z.t("menu_groupCarts_estimatedPickup",{dateTimeDisplay:e}):d.Z.t("menu_groupCarts_estimatedDelivery",{dateTimeDisplay:e})}return h?n?d.Z.t("menu_groupCarts_pickupBetween",{timeRangeDisplay:y}):d.Z.t("menu_groupCarts_arrivingBetween",{timeRangeDisplay:y}):g?n?d.Z.t("menu_groupCarts_pickupBetweenTomorrowAtTime",{timeRangeDisplay:y}):d.Z.t("menu_groupCarts_arrivingBetweenTomorrowAtTime",{timeRangeDisplay:y}):n?d.Z.t("menu_groupCarts_pickupBetweenDateAtTime",{date:C,timeRangeDisplay:y}):d.Z.t("menu_groupCarts_arrivingBetweenDateAtTime",{date:C,timeRangeDisplay:y})},_=e=>{let{timezone:t,timestampInMillis:n,timestampEnd:o,userLocale:l,options:d}=e,u=new Date(n),{isToday:c,isTomorrow:p}=(0,a.KY)(u,l,t),m=(0,i.o0)({date:new Date(n),locale:l,dateOptions:{dateStyle:void 0,timeStyle:(null==d?void 0:d.timeStyle)||r.th.SHORT},timeZone:t}),_=o?(0,i.o0)({date:new Date(o),locale:l,dateOptions:{dateStyle:void 0,timeStyle:(null==d?void 0:d.timeStyle)||r.th.SHORT},timeZone:t}):"",h=(0,s.zA)(new Date(n),{timeZone:t,month:(null==d?void 0:d.month)||r.th.NUMERIC,day:(null==d?void 0:d.day)||r.th.NUMERIC},l),g=(0,s.zA)(new Date(n),{timeZone:t,weekday:(null==d?void 0:d.weekday)||r.th.SHORT},l);return{isToday:c,isTomorrow:p,timeOnlyString:_?"".concat(m," - ").concat(_):m,dateOnlyString:h,dayOfWeekString:g}},h=e=>{let{isPickup:t,scheduledWindowStart:n,scheduledWindowEnd:o}=e,i=n&&o;return t&&i?d.Z.t("menu_groupCarts_scheduledPickup"):t?d.Z.t("menu_groupCarts_pickupNow"):i?d.Z.t("menu_groupCarts_scheduledDelivery"):d.Z.t("menu_groupCarts_deliverNow")},g=e=>{let{isPickup:t,timezone:n,scheduledWindowStart:o,scheduledWindowEnd:i,orderDeadline:r,etaMinute:l,bufferMinsForLargeOrders:a,dollarThresholdForLargeOrders:s,userLocale:c,currency:p,options:m,showNoOrderDeadlineText:h}=e,g=[];if(o&&i||r){if(o&&i){let{isToday:e,isTomorrow:t,timeOnlyString:r,dateOnlyString:l}=_({timezone:n,timestampInMillis:o,timestampEnd:i,userLocale:c,options:m||{month:"short"}});t?g.push(d.Z.t("menu_groupOrderModal_deliveryOptionDescription_tomorrow",{timeDisplay:r})):e?g.push(r):g.push("".concat(l,", ").concat(r))}else l&&g.push((0,u.V1)(c,n,t,l||0,r)),a&&s&&g.push(d.Z.t("menu_orderDeadlineModal_extraTime_text",{extraMins:(0,u.$b)(a||0),amount:(0,u.v4)(c,p,s||0)}))}else{let e=t?d.Z.t("menu_groupCarts_asapCheckoutPickup"):d.Z.t("menu_groupCarts_asapCheckoutDelivery"),n=h?"".concat(d.Z.t("menu_groupCarts_noOrderDeadline")," • "):"";g.push("".concat(n).concat(e))}return g}},693925:function(e,t,n){var o,i;n.d(t,{D:function(){return o}}),(i=o||(o={})).BeforeTheDeadlineModal="BeforeTheDeadlineModal",i.ChangeBudgetModal="ChangeBudgetModal",i.CreateGroupCartV1Modal="CreateGroupCartV1Modal",i.CreateGroupCartV2Modal="CreateGroupCartV2Modal",i.DeleteGroupCartModal="DeleteGroupCartModal",i.GroupCartDetailsModal="GroupCartDetailsModal",i.GroupCartLimitSection="GroupCartLimitSection",i.GroupCartTypeSelection="GroupCartTypeSelection",i.GroupCartTypeSelector="GroupCartTypeSelector",i.GroupCartWhoIsPayingModal="GroupCartWhoIsPayingModal",i.GroupOrderNoLongerExistsModal="GroupOrderNoLongerExistsModal",i.OrderAlreadyPlacedModal="OrderAlreadyPlacedModal",i.OrderDeadlineListCell="OrderDeadlineListCell",i.PaymentIssueModal="PaymentIssueModal",i.SomethingWentWrongModal="SomethingWentWrongModal",i.StoreClosedModal="StoreClosedModal",i.UnlockCartModal="UnlockCartModal",i.WhoIsPayingListCell="WhoIsPayingListCell",i.YouMissedItModal="YouMissedItModal",i.SchedulingListCell="SchedulingListCell",i.GroupCartEducationV1Modal="GroupCartEducationV1Modal"},783616:function(e,t,n){var o,i,r,l,d,a;n.d(t,{Al:function(){return o},ON:function(){return r},hK:function(){return i}}),(l=o||(o={})).CANCELLED="CANCELLED",l.CHECKED_OUT="CHECKED_OUT",(d=i||(i={})).INITIAL="INITIAL",d.WHO_WILL_PAY="WHO_WILL_PAY",d.SCHEDULING="SCHEDULING",d.ORDER_DEADLINE="ORDER_DEADLINE",d.AUTOCHECKOUT_CONFIG="AUTOCHECKOUT_CONFIG",d.CHANGE_SCHEDULE_WARNING="CHANGE_SCHEDULE_WARNING",d.STORE_SCHEDULING_UNAVAILABLE_INFO="STORE_SCHEDULING_UNAVAILABLE_INFO",(a=r||(r={})).MANUAL="MANUAL",a.AUTOMATIC="AUTOMATIC"},315178:function(e,t,n){n.d(t,{E:function(){return tr}});var o,i,r,l,d,a,s=n(361967),u=n(313773),c=n(457182),p=n(74152),m=n(549736),_=n(918821),h=n(509300),g=n(321569),y=n(164671),C=n(34928),v=n(278884),D=n(731690),f=n(131380),S=n(896855),E=n(457310),x=n(406634),T=n(35250),I=n(277595),O=n(693925),M=n(527178),A=n(560930),P=n(655914),b=n(694933),Z=n(864809),w=n(618539),k=n(484497),L=n(538256),N=e=>{let{paymentCardList:t,initialPaymentId:n,updatePaymentMethodId:o,onClose:i}=e,[r,l]=u.useState(n);return(0,s.jsxs)(p.Z,{hasHeaderPadding:!0,hasContentPadding:!1,onClose:i,isOpen:!0,hasCloseButton:!0,title:D.ZP.t("businessProfiles_createBusinessProfileModal_selectPayment_title"),primaryAction:{text:D.ZP.t("businessProfiles_editBusinessProfileModal_saveButton"),buttonProps:{type:m.L$.primary},onClick:()=>o(r||"")},secondaryAction:{text:D.ZP.t("groupCart_saveGroup_modalCancelBtnText"),buttonProps:{type:m.L$.secondary},onClick:i},"data-testid":O.D.GroupCartDetailsModal,children:[(0,s.jsx)(_.Z,{children:(0,s.jsx)(A.x,{style:P.TextStyle.body.small.default,children:D.ZP.t("paymentMethodStrings_savedPaymentMethods")})}),t.map(e=>{var t,n,o,i;return(0,s.jsx)(b.Z,{size:Z.LK.large,insetVerticalSize:h.wM.medium,onClick:()=>l(e.paymentMethodUuid||""),accessibilityRole:"radio",isSeparatorVisible:!0,bodyVerticalAlignment:w.lO.center,isToggleable:r!==e.paymentMethodUuid,renderBeforeContent:()=>(0,s.jsx)(L.Ar,{hideAccessibilityLabel:!0,iconKey:e}),label:"0000"===e.expYear?"".concat(null==e?void 0:e.type):"".concat(null!==(t=null==e?void 0:e.type)&&void 0!==t?t:""," ....").concat(null!==(n=null==e?void 0:e.last4)&&void 0!==n?n:""),description:"0000"===e.expYear?"".concat(null==e?void 0:e.accountDisplayDescription):"Exp. ".concat(null!==(o=null==e?void 0:e.expMonth)&&void 0!==o?o:"","/").concat(null!==(i=null==e?void 0:e.expYear)&&void 0!==i?i:""),trailingIcon:e.paymentMethodUuid===r?{type:k.IconType.Check,isInteractive:!1,color:P.d9.positive.default}:void 0})})]})},R=n(204425),j=n(575722),U=n(232755),G=n(902093),F=n(269103),B=n(431325),H=n(543315),V=n(177560),z=n(37174),W=n(462986),Y=n(918564);let K=(0,Y.default)(G.Z).withConfig({componentId:"sc-529c0452-0"})(["justify-content:space-between;"]),$=(0,Y.default)(G.Z).withConfig({componentId:"sc-529c0452-1"})(["align-items:center;margin:"," ",";"],H.Spacing.xSmall,H.Spacing.medium);(0,Y.default)($).withConfig({componentId:"sc-529c0452-2"})(["margin-right:",";"],H.Spacing.xSmall);let Q=(0,Y.default)(A.x).attrs({color:P.d9.text.subdued.default}).withConfig({componentId:"sc-529c0452-3"})([""]);(0,Y.default)(Q).withConfig({componentId:"sc-529c0452-4"})(["margin-top:"," !important;"],H.Spacing.none),(0,Y.default)(Q).withConfig({componentId:"sc-529c0452-5"})(["margin-top:-2px;"]),(0,Y.default)(V.Z).withConfig({componentId:"sc-529c0452-6"})(["margin-left:"," !important;"],H.Spacing.none);let J=(0,Y.default)(Q).attrs({textStyle:P.TextStyle.label.small.default}).withConfig({componentId:"sc-529c0452-7"})([""]);(0,Y.default)(J).withConfig({componentId:"sc-529c0452-8"})(["margin-top:"," !important;"],H.Spacing.none),(0,Y.default)(G.Z).withConfig({componentId:"sc-529c0452-9"})(["justify-content:space-between;align-items:center;margin-top:"," !important;"],H.Spacing.small),(0,Y.default)(R.Z).attrs({type:z.C.tall}).withConfig({componentId:"sc-529c0452-10"})(["width:110%;margin-left:-16px;"]);let X=(0,Y.default)(A.x).withConfig({componentId:"sc-529c0452-11"})(["margin-top:",";"],H.Spacing.medium),q=(0,Y.default)(G.Z).withConfig({componentId:"sc-529c0452-12"})(["justify-content:space-between;margin-bottom:",";"],H.Spacing.small),ee=(0,Y.default)(J).attrs({textStyle:P.TextStyle.label.xSmall.default}).withConfig({componentId:"sc-529c0452-13"})(["margin-top:",";"],H.Spacing.large),et=(0,Y.default)(J).attrs({textStyle:P.TextStyle.label.xSmall.strong}).withConfig({componentId:"sc-529c0452-14"})(["position:absolute;left:37%;transform:translateX(-50%);margin-bottom:",";"],H.Spacing.small),en=Y.default.div.withConfig({componentId:"sc-529c0452-15"})(["position:relative;width:100%;"]),eo=(0,Y.default)(W.Z).withConfig({componentId:"sc-529c0452-16"})(["margin-top:",";"],H.Spacing.small),ei=Y.default.div.withConfig({componentId:"sc-529c0452-17"})(["margin-top:",";"],H.Spacing.large);var er=n(996870),el=n(613531),ed=n(538626),ea=n(15425),es=n.n(ea),eu=n(249243),ec=n(970501);let ep=(e,t,n)=>{var o,i,r,l;return[e?{type:ed.S.STORE,lat:parseFloat(null!==(o=null==n?void 0:n.lat)&&void 0!==o?o:0),lng:parseFloat(null!==(i=null==n?void 0:n.lng)&&void 0!==i?i:0),imageUrl:null}:{type:ed.S.HOME,lat:null!==(r=null==t?void 0:t.lat)&&void 0!==r?r:0,lng:null!==(l=null==t?void 0:t.lng)&&void 0!==l?l:0,imageUrl:null}]},em={[ea.DaypartsDayOfWeek.Monday]:1,[ea.DaypartsDayOfWeek.Tuesday]:2,[ea.DaypartsDayOfWeek.Wednesday]:3,[ea.DaypartsDayOfWeek.Thursday]:4,[ea.DaypartsDayOfWeek.Friday]:5,[ea.DaypartsDayOfWeek.Saturday]:6,[ea.DaypartsDayOfWeek.Sunday]:7},e_={[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.DefaultNotRequired]:ec.wOh.DEFAULT_NOT_REQUIRED,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.EnforcedCode]:ec.wOh.ENFORCED_CODE,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.EnforcedList]:ec.wOh.ENFORCED_LIST,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.EnforcedPattern]:ec.wOh.ENFORCED_PATTERN,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.OptionalCode]:ec.wOh.OPTIONAL_CODE,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.UnknownDefaultOpenApi]:ec.wOh.UNSPECIFIED,[ea.OrderServiceExpenseOrderBudgetExpenseCodeMode.Unspecified]:ec.wOh.UNSPECIFIED},eh=e=>{let t=e.expiration_timestamp,n=(0,eu.camelCaseObjectKeys)(e);return n.expireDate=t?new Date(t).getTime().toString():"",n.availabilities=n.availabilities.map(e=>{var t,n;return{...e,startTimeOfDayOfWeek:{...e.startTimeOfDayOfWeek,dayOfWeek:em[(null===(t=e.startTimeOfDayOfWeek)||void 0===t?void 0:t.dayOfWeek)||""]},endTimeOfDayOfWeek:{...e.endTimeOfDayOfWeek,dayOfWeek:em[(null===(n=e.endTimeOfDayOfWeek)||void 0===n?void 0:n.dayOfWeek)||""]}}}),n.expenseCodeMode=e_[e.expense_code_mode],n},eg=[ec.wOh.ENFORCED_CODE,ec.wOh.ENFORCED_LIST,ec.wOh.ENFORCED_PATTERN],ey=[ec.wOh.OPTIONAL_CODE],eC=e=>(null==e?void 0:e.expenseCodeMode)!==null&&eg.includes(e.expenseCodeMode),ev=e=>(null==e?void 0:e.expenseCodeMode)!==null&&ey.includes(e.expenseCodeMode);var eD=e=>{let{budget:t,expenseCode:n="",expenseNote:o="",setValue:i}=e,r=eC(t),l=ev(t);return r||l?(0,s.jsxs)(u.Fragment,{children:[(0,s.jsx)(er.Z,{label:D.ZP.t("checkoutStrings_companyPayCompanyCostCode"),description:r?D.ZP.t("checkoutStrings_companyPayCompanyCostCodeDescription"):D.ZP.t("checkoutStrings_companyPayCompanyCostCodeOptionalDescription"),placeholder:D.ZP.t("checkoutStrings_companyPayCompanyCostCodePlaceholder"),onChange:e=>i({expenseCode:e}),value:n}),(0,s.jsx)(el.Z,{}),(0,s.jsx)(er.Z,{label:D.ZP.t("checkoutStrings_companyPayExpenseNote"),description:D.ZP.t("checkoutStrings_companyPayExpenseNoteDescription"),placeholder:D.ZP.t("checkoutStrings_companyPayCompanyCostNotePlaceholder"),onChange:e=>i({expenseNote:e}),value:o})]}):null};(o=l||(l={})).OUT_OF_DELIVERY_AREA="OUT_OF_DELIVERY_AREA",o.MISSING_PAYMENT_METHOD="MISSING_PAYMENT_METHOD",o.MISSING_ADDRESS="MISSING_ADDRESS",o.EXPENSE_CODE_REQUIRED="EXPENSE_CODE_REQUIRED",o.DEFAULT="DEFAULT",(i=d||(d={})).DETAILS="DETAILS",i.CHOOSE_BUDGETS="CHOOSE_BUDGETS",i.CHANGE_ADDRESS="CHANGE_ADDRESS",i.CHANGE_ADDRESS_READY="CHANGE_ADDRESS_READY",i.CHANGE_DROPOFF="CHANGE_DROPOFF",i.CHANGE_PHONE_NUMBER="CHANGE_PHONE_NUMBER",i.CHANGE_PAYMENT_METHOD="CHANGE_PAYMENT_METHOD";var ef=e=>{var t,n,o;let{budgets:i,selectedBudgetId:r,isUseCompanyBudget:l,expenseCode:a,expenseNote:u,setStep:c,setValue:p}=e,m=i.find(e=>e.id===r);return(0,s.jsx)(_.Z,{children:(0,s.jsxs)(U.Z,{children:[(0,s.jsx)(X,{children:D.ZP.t("checkoutStrings_companyPayment")}),(0,s.jsxs)(G.Z,{children:[(0,s.jsx)(F.Z,{isSelected:l,label:D.ZP.t("checkoutStrings_companyPaysUseMealBudget"),onChange:e=>p({isUseCompanyBudget:e})}),(0,s.jsx)(J,{children:D.ZP.t("checkoutStrings_companyPayNumberOfEligibleBudgets",{budgetCount:i.length})})]}),l&&m&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(b.Z,{size:Z.LK.small,insetHorizontalSize:h.wM.none,insetVerticalSize:h.wM.xxSmall,label:null!==(n=m.name)&&void 0!==n?n:"",description:D.ZP.t("menu_budgets_amountRemaining",{amount:null!==(o=null===(t=m.remainingAmount)||void 0===t?void 0:t.displayString)&&void 0!==o?o:""}),trailingIcon:{type:k.IconType.ChevronRight,size:B.J.medium,accessibilityLabel:D.ZP.t("checkoutStrings_change"),isInteractive:!1},isSeparatorVisible:!1,onClick:()=>c(d.CHOOSE_BUDGETS),accessibilityRole:"button"}),(0,s.jsx)(eD,{budget:m,expenseCode:a,expenseNote:u,setValue:p})]})]})})},eS=n(428377),eE=n(222047),ex=n(228436),eT=n(645827),eI=n(141968),eO=n(102051);let eM=[{label:"12%",value:12},{label:"15%",value:15},{label:"20%",value:20},{label:"Other"}];var eA=e=>{let{tipValue:t,updateTip:n}=e,o=eM.length-1,[i,r]=u.useState(1),[l,d]=u.useState(10);u.useEffect(()=>{if(void 0===t)n(eM[i].value||0);else{let e=eM.findIndex(e=>e.value===t);-1!==e?r(e):(r(o),d(t))}},[]);let a=e=>{e===o?(r(e),n(l)):(r(e),n(eM[e].value||0))},c=e=>{let t=parseInt(e,10)||0;d(t),n(t)};return(0,s.jsxs)(_.Z,{children:[(0,s.jsxs)(q,{children:[(0,s.jsxs)(A.x,{children:[D.ZP.t("checkoutStrings_orderCart_dasher")," ",(0,s.jsx)(eS.Z,{content:D.ZP.t("checkoutStrings_orderCart_dasherEffortTipOnFactorsCallout"),position:eE.eW.topCenter,size:ex.Oz.small,children:()=>(0,s.jsx)(eT.Z,{type:k.IconType.InfoCircleLine,size:B.J.tiny})})]}),(0,s.jsx)(A.x,{children:"".concat(t||0,"%")})]}),(0,s.jsx)(eI.Z,{accessibilityLabel:D.ZP.t("checkoutStrings_orderCart_dasher"),options:eM.map(e=>e.label),selectedIndex:i,onChange:e=>a(e),size:eO.jA.small}),(0,s.jsx)(en,{children:(0,s.jsx)(et,{children:D.ZP.t("layoutStrings_orderCart_groupCart_mostCommon")})}),i===o&&(0,s.jsx)(ei,{children:(0,s.jsx)(eo,{label:"",value:l,onChange:e=>c(e),placeholder:D.ZP.t("checkoutStrings_orderCart_dasher")})}),(0,s.jsx)(ee,{children:D.ZP.t("checkoutStrings_orderCart_dasherTipCallout")})]})},eP=n(575104),eb=e=>{let{addressDisplay:t,dasherInstructions:n,dropOffPreference:o,isPickup:i,phoneNumber:r,canEditAddress:l,onClick:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eP.Z,{iconType:i?k.IconType.MerchantLine:k.IconType.HomeLine,title:t.firstLine,subtext:t.secondLine,onClick:i||!l?void 0:()=>{a(d.CHANGE_ADDRESS)}}),!i&&(0,s.jsx)(eP.Z,{iconType:k.IconType.OrderBagLine,title:o,subtext:n||D.ZP.t("checkoutStrings_fulfillmentDetails_addMoreDetails"),onClick:()=>{a(d.CHANGE_DROPOFF)}}),i?null:(0,s.jsx)(eP.Z,{iconType:k.IconType.PhoneCallLine,title:r||D.ZP.t("storefront_loyalty_addPhoneNumber")})]})},eZ=e=>{var t,n,o,i;let{paymentCard:r,setStep:l}=e,a=(null==r?void 0:r.expYear)==="0000"?"".concat(null==r?void 0:r.type):"".concat(null!==(t=null==r?void 0:r.type)&&void 0!==t?t:""," ....").concat(null!==(n=null==r?void 0:r.last4)&&void 0!==n?n:""),u=(null==r?void 0:r.expYear)==="0000"?"".concat(null==r?void 0:r.accountDisplayDescription):"Exp. ".concat(null!==(o=null==r?void 0:r.expMonth)&&void 0!==o?o:"","/").concat(null!==(i=null==r?void 0:r.expYear)&&void 0!==i?i:"");return(0,s.jsx)(K,{children:(0,s.jsx)(b.Z,{size:Z.LK.medium,insetVerticalSize:h.wM.small,bodyVerticalAlignment:w.lO.center,label:r?a:D.ZP.t("menu_groupOrderModal_selectAPaymentMethod"),description:r?u:void 0,renderBeforeContent:()=>(0,s.jsx)(L.Ar,{hideAccessibilityLabel:!0,iconKey:r}),trailingMetadata:(0,s.jsx)(A.x,{color:P.d9.text.subdued.default,children:D.ZP.t("checkoutStrings_change")}),trailingIcon:{type:k.IconType.ChevronRight,size:B.J.medium,accessibilityLabel:D.ZP.t("checkoutStrings_change"),isInteractive:!1},isSeparatorVisible:!1,onClick:()=>l(d.CHANGE_PAYMENT_METHOD),accessibilityRole:"button"})})},ew=n(649454),ek=e=>{var t,n,o;let{budgets:i,fulfillmentSectionData:r,mapMarkers:l,canEditAddress:d,hideTipSection:a,paymentCard:c,formValues:p,updateValues:m,setStep:g}=e,y=u.useMemo(()=>l?(0,s.jsx)(j.Z,{markers:l}):null,[l]);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(_.Z,{verticalSize:h.wM.xSmall,children:y}),(0,s.jsx)(ew.n,{skip:r.isPickup,address:null!==(n=r.consumerAddress)&&void 0!==n?n:void 0,addressId:null!==(o=null===(t=r.consumerAddress)||void 0===t?void 0:t.addressId)&&void 0!==o?o:void 0,children:(0,s.jsx)(eb,{...r,canEditAddress:d,onClick:g})}),!a&&(0,s.jsx)(eA,{tipValue:p.dasherTipPercentage,updateTip:e=>m({dasherTipPercentage:e})}),(0,s.jsx)(eZ,{paymentCard:c,setStep:g}),(0,s.jsx)(R.Z,{}),(null==i?void 0:i.length)?(0,s.jsx)(ef,{budgets:i,selectedBudgetId:p.budgetId,isUseCompanyBudget:p.isUseCompanyBudget,expenseCode:p.expenseCode,expenseNote:p.expenseNote,setValue:m,setStep:g}):null]})},eL=n(195482),eN=n(892976),eR=e=>{let{errorCode:t,onBannerActionClick:n}=e,o="";if(!t)return null;switch(t){case l.OUT_OF_DELIVERY_AREA:o=D.ZP.t("checkoutStrings_orderCart_addressDeliveryArea");break;case l.MISSING_PAYMENT_METHOD:o=D.ZP.t("checkoutStrings_orderCart_noPaymentCardsCallout");break;case l.MISSING_ADDRESS:o=D.ZP.t("seo_foodNearMePage_addressPickerInvalidAddress_error");break;case l.EXPENSE_CODE_REQUIRED:o=D.ZP.t("checkoutStrings_companyPayExpenseCodeBannerError")}return(0,s.jsx)(eL.Z,{body:(0,s.jsx)(A.x,{textStyle:P.TextStyle.label.small.default,color:P.d9.text.subdued.default,children:o}),bannerType:eN.$.warning,primaryAction:n?{content:D.ZP.t("checkoutStrings_change"),onClick:n}:void 0,actionPosition:eN.b2.bottom})},ej=n(538763),eU=n(106148),eG=n(117874);let eF=e=>{let{title:t,accessibilityLabel:n,onClose:o,children:i}=e;return(0,s.jsxs)(_.Z,{size:h.wM.small,children:[(0,s.jsx)(V.Z,{onClick:o,size:eG.rm.medium,accessibilityLabel:n||D.ZP.t("commonStrings_wizard_back"),type:m.xZ.flatSecondary,iconType:eG.L.ArrowLeft}),(0,s.jsx)(A.x,{textStyle:P.TextStyle.display.large,children:t}),i]})};var eB=e=>{let{isSchedulingViewEnabled:t,groupCartData:n,etaInfo:o,title:i,onClose:r}=e,l=(0,ej.bU)(),{currency:d,storeTimezone:a,maxIndividualCost:c,groupCartType:p,orderDeadlineTimestamp:m,isPickup:_,scheduledWindowStart:g,scheduledWindowEnd:y}=n,C=u.useMemo(()=>{if(!m)return"";let{isToday:e,isTomorrow:n,timeOnlyString:o,dateOnlyString:i,dayOfWeekString:r}=(0,eU.YJ)({timezone:a,timestampInMillis:m,userLocale:l});return t?n?D.ZP.t("menu_groupOrderModal_deliveryOptionDescription_tomorrow",{timeDisplay:o}):e?o:"".concat(i,", ").concat(o):e?o:"".concat(r,", ").concat(i," \xb7 ").concat(o)},[t,l,m,a]),v=u.useMemo(()=>{if(!(g&&y)&&!m)return"";let e=(0,eU.ft)({isPickup:_,timezone:a,scheduledWindowStart:g,scheduledWindowEnd:y,orderDeadline:m?new Date(m).toISOString():void 0,etaMinute:null==o?void 0:o.etaMinute,bufferMinsForLargeOrders:null==o?void 0:o.bufferMinsForLargeOrders,dollarThresholdForLargeOrders:null==o?void 0:o.dollarThresholdForLargeOrders,userLocale:l,currency:d}),t=g&&y;return t&&(null==e?void 0:e[0])?"".concat(_?D.ZP.t("menu_groupCarts_scheduledPickup"):D.ZP.t("menu_groupCarts_scheduledDelivery"),": ").concat(null==e?void 0:e[0]):!t&&e.length>0?e.join(" \xb7 "):""},[d,null==o?void 0:o.bufferMinsForLargeOrders,null==o?void 0:o.dollarThresholdForLargeOrders,null==o?void 0:o.etaMinute,_,l,m,y,g,a]),f=(0,eU.nJ)({groupCartType:p,maxIndividualCost:c,currency:d,userLocale:l});return(0,s.jsxs)(eF,{title:i,onClose:r,children:[(0,s.jsx)(el.Z,{size:h.$f.xxSmall}),(0,s.jsxs)(U.Z,{size:h.Uo.none,children:[t&&v&&(0,s.jsx)(A.x,{textStyle:P.TextStyle.label.medium.default,color:P.d9.text.subdued.default,children:v}),(0,s.jsx)(A.x,{textStyle:P.TextStyle.label.medium.default,color:P.d9.text.subdued.default,children:t?"".concat(D.ZP.t("menu_groupCarts_automaticallyCheckOut"),": ").concat(C):D.ZP.t("menu_groupOrderDetailsModal_subtitle",{dateTimeRangeDisplay:C})}),(0,s.jsx)(A.x,{textStyle:P.TextStyle.label.medium.default,color:P.d9.text.subdued.default,children:t?f:"".concat(f," \xb7 ").concat(D.ZP.t("menu_groupCarts_automaticallyCheckOut"))})]})]})},eH=n(870815),eV=n(277616),ez=n(544904),eW=n(189279),eY=n(512175),eK=n.n(eY),e$=n(632212);let eQ=e=>"“".concat(eK()(e,{length:50}),"”");var eJ=e=>{var t,n,o,i,r;let{consumer:l,isPickup:d=!1,storeAddress:a,addressId:s}=e,u=l.availableAddresses||[],c=l.defaultAddress,p=s?u.find(e=>s===(null==e?void 0:e.addressId)):c,m=(0,eV.l)("",p||{}),_=m.loading||m.error?[]:m.dropoffOptions,h=(0,ez.s)(null!==(o=null==p?void 0:null===(t=p.dropoffPreferences)||void 0===t?void 0:t.allPreferences)&&void 0!==o?o:[],_)||"",g=(0,ez.Am)(null!==(i=null==p?void 0:null===(n=p.dropoffPreferences)||void 0===n?void 0:n.allPreferences)&&void 0!==i?i:[],_,null!==(r=null==p?void 0:p.driverInstructions)&&void 0!==r?r:""),y=g&&eQ(g),C=(0,eW.U)(l);return{addressDisplay:(()=>{if(d&&a){var e,t;let n=null!==(t=null===(e=a.displayAddress)||void 0===e?void 0:e.split(","))&&void 0!==t?t:[];return{firstLine:n[0],secondLine:n.length>1?n.slice(1).join(", "):""}}return!d&&p?(0,eH.Tg)(p,e$.LK.Delivery,!1):{firstLine:"",secondLine:""}})(),consumerAddress:null!=p?p:null,consumerDefaultAddress:c,dasherInstructions:y,dropOffOptions:_,dropOffPreference:h,isPickup:d,phoneNumber:C}},eX=n(960021),eq=e=>{var t;let{data:n,loading:o}=(0,eX.N)(),i=(null==n?void 0:null===(t=n.paymentCards)||void 0===t?void 0:t.filter(e=>{var t;return!(null===(t=e.metadata)||void 0===t?void 0:t.isHsaFsaCard)}))||[],r=i.find(e=>!0===e.isDefault),l=e?i.find(t=>e==t.paymentMethodUuid):r;return{availablePaymentCards:i,consumerPaymentCard:null!=l?l:null,consumerDefaultPaymentCard:null!=r?r:null,loading:o}},e0=n(861332),e1=e=>{let[t,n]=u.useState(!1),{updateConsumerDefaultAddress:o}=(0,e0.Z)({refetchQueries:[],awaitRefetchQueries:!1,addressEntryPoint:e,onCompleted:()=>n(!1)});return{updateConsumerDefaultAddress:e=>{n(!0),o(e)},loading:t}},e5=n(877182),e2=n(578044),e9=n(794304),e3=n(13794);let e4={[ec.k3x.GROUP_CART_TYPE_CREATOR_PAYS_ALL]:ea.CartServiceV1GroupCartType.CreatorPaysAll,[ec.k3x.GROUP_CART_TYPE_SPLIT_BILL]:ea.CartServiceV1GroupCartType.SplitBill},e7=e=>{var t;return["getPreviewAutocheckoutDetails",e.fulfillmentType,e.deliveryAddressId||"",(null===(t=e.checkoutTime)||void 0===t?void 0:t.toISOString())||""]},e6=e=>{let[t]=(0,e9.useUGClient)(es()),{data:n,isLoading:o,isFetching:i,error:r,refetch:l}=(0,e3.useQuery)({queryFn:()=>t.getCxCartV1PreviewAutocheckoutDetails({checkoutTime:e.checkoutTime,deliveryAddressId:e.deliveryAddressId?Number(e.deliveryAddressId):860646264,fulfillmentType:(e.fulfillmentType||"").toUpperCase(),groupCartType:e4[e.groupCartType],isGroup:!0,storeId:e.storeId}),queryKey:e7(e),refetchOnWindowFocus:!1,retry:!1,refetchOnMount:!1,enabled:!e.skip&&(e.fulfillmentType!==ec.LK5.Delivery||!!e.deliveryAddressId)});return{data:n,isLoading:o,isFetching:i,errorCode:te(r),refetch:l}};(r=a||(a={})).OUT_OF_DELIVERY_AREA="OUT_OF_DELIVERY_AREA",r.MISSING_PAYMENT_METHOD="MISSING_PAYMENT_METHOD",r.MISSING_DEFAULT_ADDRESS="MISSING_DEFAULT_ADDRESS",r.DEFAULT="DEFAULT";let e8={"Delivery Address is outside of the store's delivery range":"OUT_OF_DELIVERY_AREA"},te=e=>{var t;if(!e)return null;let n=(null==e?void 0:null===(t=e.body)||void 0===t?void 0:t.internal_message)||"";return n?e8[n]:"DEFAULT"};var tt=e=>{var t,n,o;let{persistedGroupCartData:i,formValues:r,isEnabled:d}=e,{id:s,isPickup:c,storeAddress:p,storeId:m,groupCartType:_,orderDeadlineTimestamp:h,scheduledWindowStart:g,scheduledWindowEnd:y}=i,C=c&&(!(null==p?void 0:p.lat)||!(null==p?void 0:p.lng)),v=!!s&&C,D=u.useMemo(()=>g&&y?new Date((new Date(g).getTime()+new Date(y).getTime())/2):h?new Date(h):null,[h,y,g]),{data:f,loading:S}=(0,e5.a)(e2.Vk,{fetchPolicy:"cache-and-network",variables:{id:s,shouldApplyAutocheckoutConfig:!0},skip:!v}),{data:E,errorCode:x,isFetching:T}=e6({groupCartType:_,storeId:m,deliveryAddressId:(null==r?void 0:r.deliveryAddressId)||"",fulfillmentType:c?ec.LK5.Pickup:ec.LK5.Delivery,checkoutTime:D,skip:!d}),I=u.useMemo(()=>{var e;return x===a.OUT_OF_DELIVERY_AREA||(null==f?void 0:null===(e=f.orderCart)||void 0===e?void 0:e.isOutsideDeliveryRegion)?l.OUT_OF_DELIVERY_AREA:null},[null==f?void 0:null===(t=f.orderCart)||void 0===t?void 0:t.isOutsideDeliveryRegion,x]),O=u.useMemo(()=>{var e;return(null==E?void 0:null===(e=E.budgets)||void 0===e?void 0:e.map(eh))||[]},[null==f?void 0:null===(o=f.orderCart)||void 0===o?void 0:null===(n=o.expenseOrderOptions)||void 0===n?void 0:n.allEligibleExpensedMealsBudgets,null==E?void 0:E.budgets,!0]);return{isLoading:S||T,data:E,budgets:O,error:I}},tn=()=>{let[e,t]=u.useState(new Set);return{errorToHandle:u.useMemo(()=>0===e.size?null:e.has(l.MISSING_ADDRESS)?l.MISSING_ADDRESS:e.has(l.MISSING_PAYMENT_METHOD)?l.MISSING_PAYMENT_METHOD:e.has(l.OUT_OF_DELIVERY_AREA)?l.OUT_OF_DELIVERY_AREA:e.has(l.EXPENSE_CODE_REQUIRED)?l.EXPENSE_CODE_REQUIRED:null,[e]),errors:e,addErrors:e=>{t(t=>new Set([...t,...e]))},removeErrors:e=>{t(t=>{let n=new Set(t);return e.forEach(e=>{n.delete(e)}),n})},setErrors:e=>{t(new Set(e))},clearErrors:()=>{t(new Set)}}},to=e=>{var t;let{initialFormData:n}=e,[o,i]=u.useState({deliveryAddressId:null==n?void 0:n.deliveryAddressId,paymentMethodId:null==n?void 0:n.paymentMethodId,dasherTipPercentage:null!==(t=null==n?void 0:n.dasherTipPercentage)&&void 0!==t?t:void 0,isUseCompanyBudget:!n||!!n.budgetId,budgetId:null==n?void 0:n.budgetId,expenseCode:null==n?void 0:n.expenseCode,expenseNote:null==n?void 0:n.expenseNote});return{formValues:o,updateFormValues:e=>{let t={...o};Object.keys(e).forEach(n=>{n&&(null==e?void 0:e[n])!==o[n]&&(t[n]=e[n])}),i(t)}}};let ti="GroupCart/ConfirmGroupOrderDetails";var tr=e=>{var t,n,o;let{groupCartData:i,initialFormData:r,etaInfo:a,showCtaLoading:A=!1,title:P,primaryCtaText:b,canEditAddress:Z=!0,isSchedulingViewEnabled:w,onSave:k,onClose:L}=e,{id:R,isPickup:j,storeAddress:U,maxIndividualCost:G,menuId:F,storeId:B,storeName:H,groupCartType:V,checkoutMode:z,orderDeadlineTimestamp:W,scheduledWindowStart:Y,scheduledWindowEnd:K}=i,[$,Q]=u.useState(!1),[J,X]=u.useState(d.DETAILS),[q,ee]=u.useState(!!(null==r?void 0:r.budgetId)),{formValues:et,updateFormValues:en}=to({initialFormData:r}),{errorToHandle:eo,errors:ei,addErrors:er,removeErrors:el,setErrors:ed}=tn(),{consumer:ea,loading:es}=(0,v.R)(),{updateConsumerDefaultAddress:eu,loading:ec}=e1(ti),em=eJ({consumer:ea,isPickup:j,storeAddress:U,addressId:et.deliveryAddressId}),{consumerAddress:e_,consumerDefaultAddress:eh,dropOffOptions:eg}=em,ey=j&&U||e_?ep(j,e_,U):null,{availablePaymentCards:ev,consumerPaymentCard:eD,consumerDefaultPaymentCard:ef,loading:eS}=eq(et.paymentMethodId),{data:eE,isLoading:ex,budgets:eT,error:eI}=tt({persistedGroupCartData:i,formValues:et,isEnabled:$});u.useEffect(()=>{if($)return;let e=[],t={},n=!j&&!et.deliveryAddressId,o=!et.paymentMethodId;!n||es||eh?n&&!es&&eh&&(t.deliveryAddressId=eh.addressId):e.push(l.MISSING_ADDRESS),!o||eS||ef?o&&!eS&&ef&&(t.paymentMethodId=ef.paymentMethodUuid||""):e.push(l.MISSING_PAYMENT_METHOD),es||eS||Q(!0),ed(e),en(t)},[eh,ef,et.deliveryAddressId,et.paymentMethodId,es,$,eS,j]),u.useEffect(()=>{if($&&!ex&&(eE||eI)){let t=[],n={},o=!1;if(eI===l.OUT_OF_DELIVERY_AREA&&t.push(l.OUT_OF_DELIVERY_AREA),0===eT.length)o=!0,n.budgetId="",n.expenseCode="",n.expenseNote="";else if(et.isUseCompanyBudget){var e;let i=null;q&&(o=!(i=eT.find(e=>e.id===et.budgetId))),i||(i=eT[0],n.budgetId=i.id,n.expenseCode="",n.expenseNote=""),!eC(i)||(null==et?void 0:null===(e=et.expenseCode)||void 0===e?void 0:e.length)||t.push(l.EXPENSE_CODE_REQUIRED)}ed(t),en(n),o&&ee(!1)}},[eE,eT,$,ex,eI]),u.useEffect(()=>{J===d.CHANGE_ADDRESS&&!ec&&!eA(e_,eh)&&(null==e_?void 0:e_.addressId)?eu(null==e_?void 0:e_.id):J===d.CHANGE_ADDRESS&&!ec&&eA(e_,eh)&&X(d.CHANGE_ADDRESS_READY)},[J,e_,eh,ec,eu]);let eO=u.useRef(!1);eO.current||(eO.current=!0,(0,I.$5)({error:null!==(n=Array.from(ei).join(","))&&void 0!==n?n:"",storeId:i.storeId}));let eM=(e,t)=>{let n=eT.find(t=>t.id===e)||null;n&&!t&&eC(n)?er([l.EXPENSE_CODE_REQUIRED]):ei.has(l.EXPENSE_CODE_REQUIRED)&&el([l.EXPENSE_CODE_REQUIRED])},eA=(e,t)=>!t||t.addressId===(null==e?void 0:e.addressId),eP=es||ex||ec||eS;return(0,s.jsxs)(c.g,{children:[(0,s.jsx)(p.Z,{hasHeaderPadding:!0,hasContentPadding:!1,hasCloseButton:!1,onClose:L,isOpen:J===d.DETAILS||eP,title:P||D.ZP.t("menu_groupOrderDetailsModal_title"),renderContentHeader:e=>{let{title:t,onClose:n}=e;return(0,s.jsx)(eB,{isSchedulingViewEnabled:w,groupCartData:i,etaInfo:a,title:t,onClose:n})},primaryAction:{text:b||D.ZP.t("menu_groupCarts_startGroupOrder"),buttonProps:{type:m.L$.primary,state:A?m.BN.loading:m.BN.default,isDisabled:null!==eo},onClick:()=>{null==k||k({maxIndividualCost:G,menuId:F,storeId:B,storeName:H,selectedGroupCartType:V,checkoutMode:z,orderDeadlineTimestamp:W,scheduledWindowStart:Y,scheduledWindowEnd:K,isPickup:j,deliveryAddressId:et.deliveryAddressId,paymentMethodId:et.paymentMethodId,dasherTipPercentage:et.dasherTipPercentage,...et.isUseCompanyBudget?{budgetId:et.budgetId,expenseCode:et.expenseCode,expenseNotes:et.expenseNote}:{}})}},secondaryAction:{text:D.ZP.t("groupCart_saveGroup_modalCancelBtnText"),buttonProps:{type:m.L$.secondary},onClick:L},"data-testid":O.D.GroupCartDetailsModal,children:$?(0,s.jsxs)(g.Z,{isVisible:eP,type:y.j.loading,children:[(0,s.jsx)(ek,{budgets:eT||[],fulfillmentSectionData:em,mapMarkers:ey,canEditAddress:Z,hideTipSection:j,paymentCard:eD,formValues:et,setChooseBudgetsModalOpen:()=>X(d.CHOOSE_BUDGETS),setDetailsModalOpen:()=>X(d.DETAILS),setStep:X,updateValues:e=>{void 0!==e.dasherTipPercentage||void 0!==e.expenseNote?en(e):void 0===e.isUseCompanyBudget||e.isUseCompanyBudget?void 0!==e.isUseCompanyBudget&&e.isUseCompanyBudget&&!et.budgetId?(eM(eT[0].id),en({...e,budgetId:eT[0].id,expenseCode:"",expenseNote:""})):void 0!==e.expenseCode&&et.budgetId&&(eM(et.budgetId,e.expenseCode),en(e)):(eM(),ee(!1),en({...e,budgetId:"",expenseCode:"",expenseNote:""}))}}),(0,s.jsx)(eR,{errorCode:eo,onBannerActionClick:eo===l.OUT_OF_DELIVERY_AREA||eo===l.MISSING_ADDRESS?()=>X(d.CHANGE_ADDRESS):eo===l.MISSING_PAYMENT_METHOD?()=>{window.location.href=M._.payment}:void 0})]}):(0,s.jsx)(_.Z,{size:h.wM.medium,children:(0,s.jsx)(C.a,{})})}),J===d.CHANGE_ADDRESS_READY&&(0,s.jsx)(f.Z,{addressEntryPoint:ti,onClose:()=>{et.deliveryAddressId!==(null==eh?void 0:eh.addressId)&&en({deliveryAddressId:(null==eh?void 0:eh.addressId)||""}),X(d.DETAILS)},doNotShowPinCodeWarningBanner:!0}),J===d.CHANGE_DROPOFF&&e_&&(0,s.jsx)(S.Z,{addressEntryPoint:ti,existingDriverInstructions:(null==e_?void 0:e_.driverInstructions)||"",dropoffPreferences:null!==(o=null==e_?void 0:null===(t=e_.dropoffPreferences)||void 0===t?void 0:t.allPreferences)&&void 0!==o?o:[],dropoffOptions:eg,defaultAddress:e_,onClose:()=>X(d.DETAILS)},"".concat(null==e_?void 0:e_.subpremise,"_").concat(null==e_?void 0:e_.driverInstructions)),J===d.CHANGE_PHONE_NUMBER&&(0,s.jsx)(E.Z,{consumer:ea,onClose:()=>X(d.DETAILS)}),J===d.CHANGE_PAYMENT_METHOD&&(0,s.jsx)(N,{paymentCardList:ev,initialPaymentId:et.paymentMethodId||"",updatePaymentMethodId:e=>{en({paymentMethodId:e}),X(d.DETAILS)},onClose:()=>X(d.DETAILS)}),J===d.CHOOSE_BUDGETS&&(0,s.jsx)(x.Z,{isOpen:J===d.CHOOSE_BUDGETS,orderCartId:R||"",selectedBudgetId:et.budgetId||"",eligibleBudgets:eT.length?(0,T.iu)(eT):[],ineligibleBudgets:eT.length?(0,T.TA)(eT):[],onCancel:()=>X(d.DETAILS),onSave:e=>{e!==et.budgetId&&(en({budgetId:e,expenseCode:"",expenseNote:""}),eM(e)),ee(!0),X(d.DETAILS)}})]})}},57684:function(e,t,n){var o=n(361967);n(313773);var i=n(74152),r=n(117874),l=n(549736),d=n(613531),a=n(509300),s=n(560930),u=n(655914),c=n(345002),p=n(731690);t.Z=e=>{let{isPickup:t,showBackButton:n=!1,onClose:m,onChange:_}=e;return(0,o.jsx)(i.Z,{isOpen:!0,hasCloseButton:!1,title:t?p.ZP.t("menu_groupCarts_changeScheduledTimeModal_pickup_title"):p.ZP.t("menu_groupCarts_changeScheduledTimeModal_title"),onClose:m,renderContentHeader:e=>{let{title:t,onClose:i}=e;return(0,o.jsx)(c.Z,{title:t,onClose:i,iconType:n?r.L.ArrowLeft:void 0})},primaryAction:{text:t?p.ZP.t("menu_groupCarts_changeScheduledTimeModal_changePickupTime_ctaButton"):p.ZP.t("menu_groupCarts_changeScheduledTimeModal_changeDeliveryTime_ctaButton"),onClick:_},secondaryAction:{text:p.ZP.t("commonStrings_wizard_cancel"),buttonProps:{type:l.L$.flatSecondary},onClick:m},children:(0,o.jsx)(d.Z,{size:a.$f.medium,children:(0,o.jsx)(s.x,{style:u.TextStyle.label.medium.default,children:t?p.ZP.t("menu_groupCarts_changeScheduledTimeModal_pickup_body"):p.ZP.t("menu_groupCarts_changeScheduledTimeModal_body")})})})}},5100:function(e,t,n){n.d(t,{Z:function(){return et}});var o=n(361967),i=n(313773),r=n(902093),l=n(22649),d=n(159967),a=n(74152),s=n(802736),u=n(117874),c=n(560930),p=n(655914),m=n(190510),_=n(549736),h=n(918564),g=n(731690),y=n(249478),C=n(538763),v=n(783616),D=n(892692),f=n(828574),S=n.n(f);n(960531),n(66445);let E="".concat("MM/DD/YYYY"," ").concat("h:mm A"),x=(e,t,n)=>(0,D.o0)({date:new Date(t),locale:e,dateOptions:{dateStyle:void 0,timeStyle:"short"},timeZone:n}),T=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:E;return S().tz("".concat(e," ").concat(t),o,n).valueOf()};var I=n(698491),O=n(630209),M=n(673727);let A=(e,t,n)=>{let o=n.map(n=>{var o,i;let r=null===(o=n.time_points)||void 0===o?void 0:o[0],l=n.day_timestamp||null,d=new Date((null==l?void 0:l.year)||0,((null==l?void 0:l.month)||0)-1,(null==l?void 0:l.day)||0),a=(0,M.hk)(d,e)||"";if(!r)return{dateKey:"".concat((null==l?void 0:l.year)||0,"-").concat(((null==l?void 0:l.month)||0)-1,"-").concat((null==l?void 0:l.day)||0),label:a,description:a,times:[]};let s=(null==r?void 0:r.timestamp)?new Date(r.timestamp):new Date;return{dateKey:(0,I.gw)(s,t),label:(0,M.C8)(new Date(s),e,new Date,t,{toUpperCase:!1,useLongWeekdayDisplay:!0})||"",description:a,times:(null===(i=n.time_points)||void 0===i?void 0:i.map(e=>({label:e.display_string,timeKey:e.timestamp?new Date(e.timestamp).toISOString():"",value:e})))||[]}});return{timezone:t,dateTimeOptions:o}};var P=n(191835),b=e=>{let{locale:t,data:{id:n,isPickup:o,menuId:r,storeId:l,storeTimezone:d,checkoutMode:a,orderDeadline:s,scheduledWindowStart:u,scheduledWindowEnd:c},canShowRecommededView:p=!1,recommendedOrderDeadline:m}=e,_=(0,P.Z)(!0),h=!!u&&!!c,[g,y]=i.useState(p&&h&&!!m&&m===s),{data:C,isFetching:v,refetch:D}=(0,O.w)({storeId:l,isPickup:o,menuId:!!n&&r||void 0,scheduledWindowStart:u,scheduledWindowEnd:c,skip:g}),f=i.useMemo(()=>{var e,n;return(null==C?void 0:null===(e=C.order_deadline_options)||void 0===e?void 0:e.order_deadline_options)?A(t,d,(null===(n=C.order_deadline_options)||void 0===n?void 0:n.order_deadline_options)||[]):null},[t,C,d]),S=(null==f?void 0:f.dateTimeOptions.find(e=>(null==e?void 0:e.times)&&e.times.length>0))||null;return{isLoading:v,orderDeadlinePickerData:f,firstAvailableOrderDeadline:S,initialCheckoutMode:a||_,etaMinute:null==C?void 0:C.eta_minute,bufferMinsForLargeOrders:null==C?void 0:C.buffer,dollarThresholdForLargeOrders:null==C?void 0:C.dollar_threshold,refetchOrderDeadlineOptions:D,showRemoveOrderDeadlineButton:!h&&!!s,showEtaText:!h&&!!(null==C?void 0:C.eta_minute),showLargeOrderText:!h&&!!(null==C?void 0:C.buffer)&&(null==C?void 0:C.dollar_threshold),showRecommendedView:g,setShowRecommendedView:y}},Z=n(437769),w=n(918821),k=n(509300),L=n(694933),N=n(428377),R=n(222047),j=n(228436),U=n(645827),G=n(431325),F=n(484497),B=n(232755),H=n(45918),V=n(204425),z=n(34928),W=n(580920),Y=e=>{let{selected:t,description:n,onChange:i}=e,r=[{label:g.ZP.t("menu_orderDeadlineModal_checkoutMode_manual_label"),description:(null==n?void 0:n.manual)||g.ZP.t("menu_orderDeadlineModal_checkoutMode_manual_description"),value:v.ON.MANUAL},{label:g.ZP.t("menu_orderDeadlineModal_checkoutMode_automatic_label"),description:(null==n?void 0:n.automatic)||g.ZP.t("menu_orderDeadlineModal_checkoutMode_automatic_description"),value:v.ON.AUTOMATIC}];return(0,o.jsxs)("div",{children:[(0,o.jsxs)(w.Z,{verticalSize:k.wM.small,horizontalSize:k.wM.medium,children:[(0,o.jsx)(c.x,{textStyle:p.TextStyle.label.large.strong,children:g.ZP.t("menu_orderDeadlineModal_checkoutMode_title")}),(0,o.jsx)(c.x,{textStyle:p.TextStyle.body.small.default,color:p.d9.text.subdued.default,children:g.ZP.t("menu_orderDeadlineModal_checkoutMode_subtitle")})]}),r.map((e,n)=>{let l=e.value===t;return(0,o.jsx)(L.Z,{accessibilityRole:"radio",label:e.label,description:e.description,descriptionOverrides:{color:p.d9.text.subdued.default},onClick:()=>i(e.value),leadingIcon:l?{isInteractive:!1,type:F.IconType.RadioOnCircleFill}:{isInteractive:!1,type:F.IconType.RadioOffCircleLine},isToggled:l,toggledColor:p.d9.currentColor,isSeparatorVisible:n===r.length-1},e.value)})]})};let K=h.default.div.withConfig({componentId:"sc-94515c98-0"})(["height:100%;display:flex;flex-direction:column;"]),$=h.default.div.withConfig({componentId:"sc-94515c98-1"})(["overflow:hidden;flex-grow:1;"]);var Q=e=>{let{isLoading:t,isPickup:n,showRecommendedView:i,setShowRecommendedView:d,recommendedOrderDeadlineTimeString:a,timePickerData:s,etaText:u,largeOrderBufferText:m,checkoutModeStrings:_,selectedDateOption:h,selectedTimeOption:y,selectedCheckoutMode:C,onChangeDate:v,onChangeTime:D,onChangeCheckoutMode:f}=e;return s?(0,o.jsxs)(K,{children:[t?(0,o.jsx)(z.a,{}):i&&a?(0,o.jsx)(w.Z,{verticalSize:k.wM.medium,horizontalSize:k.wM.none,children:(0,o.jsx)(L.Z,{isSeparatorVisible:!1,label:a,description:(0,o.jsxs)(r.Z,{size:k.O8.xxSmall,alignItems:l.v2.center,children:[(0,o.jsx)("div",{children:n?g.ZP.t("menu_orderDeadlineModal_recommendedDeadline_pickup_subtitle"):g.ZP.t("menu_orderDeadlineModal_recommendedDeadline_delivery_subtitle")}),(0,o.jsx)(N.Z,{position:R.eW.bottomCenter,size:j.Oz.small,content:g.ZP.t("menu_orderDeadlineModal_recommendedDeadline_tooltip"),children:()=>(0,o.jsx)(U.Z,{size:G.J.small,type:F.IconType.InfoLine,color:F.EY.icon.subdued.default})})]}),trailingIcon:{accessibilityLabel:g.ZP.t("item_edit_selection"),isInteractive:!0,type:F.IconType.EditLine,onClick:()=>d(!1)}})}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)($,{children:(0,o.jsx)(W.Z,{timePickerData:s,selectedDate:h,selectedTime:y,onChangeDate:v,onChangeTime:D})}),(u||m)&&(0,o.jsx)(w.Z,{verticalSize:k.wM.xSmall,horizontalSize:k.wM.medium,children:(0,o.jsxs)(B.Z,{size:k.Uo.xxSmall,children:[u&&(0,o.jsx)(c.x,{textAlign:H.H.center,textStyle:p.TextStyle.body.small.default,color:p.d9.text.subdued.default,children:u}),m&&(0,o.jsx)(c.x,{textAlign:H.H.center,textStyle:p.TextStyle.body.small.default,color:p.d9.text.subdued.default,children:m})]})})]}),(0,o.jsx)(V.Z,{}),(0,o.jsx)(Y,{selected:C,description:_,onChange:f})]}):null},J=n(345002),X=n(106148);let q=(0,h.default)(r.Z).attrs(()=>({justifyContent:l.dy.spaceBetween})).withConfig({componentId:"sc-a9bb0685-0"})(["width:100%;"]),ee=h.default.div.withConfig({componentId:"sc-a9bb0685-1"})(["height:",";max-height:",";"],e=>{let{isMobile:t,autoHeight:n}=e;return n?"auto":t?"calc(100vh - ".concat(126,"px - ").concat(73,"px)"):"calc(100vh - ".concat(126,"px - ").concat(73,"px - (").concat(d.Q2.usage.space.medium," * 2) )")},e=>{let{isMobile:t}=e;return t?"auto":"".concat(540,"px")});var et=e=>{let{groupCartModalData:t,primaryCta:n,canShowRecommededView:d,recommendedOrderDeadline:h,showBackButton:D=!1,showLoading:f=!1,onSave:S,onClose:E}=e,{isMobile:O}=(0,y.ac)(),M=(0,C.bU)(),{isPickup:A,storeTimezone:P,currency:w}=t,k=t.orderDeadlineTimestamp?new Date(t.orderDeadlineTimestamp).toISOString():void 0,{isLoading:L,orderDeadlinePickerData:N,firstAvailableOrderDeadline:R,initialCheckoutMode:j,etaMinute:U,bufferMinsForLargeOrders:G,dollarThresholdForLargeOrders:F,showRemoveOrderDeadlineButton:B,showEtaText:H,showLargeOrderText:V,showRecommendedView:z,setShowRecommendedView:W}=b({data:{...t,orderDeadline:k},locale:M,canShowRecommededView:d,recommendedOrderDeadline:h}),[Y,K]=i.useState({checkoutMode:j,orderDeadline:k||"",orderDeadlineDate:""});i.useEffect(()=>{!L&&N&&(k?N.dateTimeOptions.flatMap(e=>{var t;return null==e?void 0:null===(t=e.times)||void 0===t?void 0:t.map(e=>e.timeKey)}).includes(k)&&K(e=>({...e,orderDeadline:k,orderDeadlineDate:(0,I.gw)(new Date(k),P)})):K(e=>{var t,n;return{...e,orderDeadline:(null==R?void 0:null===(n=R.times)||void 0===n?void 0:null===(t=n[0])||void 0===t?void 0:t.timeKey)||"",orderDeadlineDate:(null==R?void 0:R.dateKey)||""}}))},[null==R?void 0:R.dateKey,null==R?void 0:R.times,k,L,N,P]);let $=!!(Y.checkoutMode&&Y.orderDeadlineDate&&Y.orderDeadline&&new Date(Y.orderDeadline).getTime()>new Date().getTime()),et=H&&Y.orderDeadline?(0,Z.V1)(M,P,A,U||0,Y.orderDeadline):"",en=V&&Y.orderDeadline?g.ZP.t("menu_orderDeadlineModal_extraTime_text",{extraMins:(0,Z.$b)(G||0),amount:(0,Z.v4)(M,w,F||0)}):"",eo=(0,Z.fA)(M,P,Y.orderDeadline),ei=()=>Y.checkoutMode===v.ON.AUTOMATIC&&(null==n?void 0:n.automatic)||g.ZP.t("commonStrings_wizard_save"),er=()=>{S({checkoutMode:void 0,orderDeadlineTimestamp:void 0})},el=()=>{$&&S({checkoutMode:Y.checkoutMode,orderDeadlineTimestamp:Y.orderDeadline?new Date(Y.orderDeadline).getTime():void 0})},ed=i.useMemo(()=>{if(h){let{isToday:e,isTomorrow:t,timeOnlyString:n,dateOnlyString:o}=(0,X.YJ)({timezone:P,timestampInMillis:new Date(h).getTime(),userLocale:M,options:{month:"short"}});return t?g.ZP.t("menu_groupOrderModal_deliveryOptionDescription_tomorrow",{timeDisplay:n}):e?n:"".concat(o,", ").concat(n)}return""},[M,h,P]);return(0,o.jsx)(a.Z,{isOpen:!0,size:s.C.large,hasHeaderPadding:!0,hasContentPadding:!1,hasCloseButton:!1,renderContentHeader:e=>{let{title:t,subtitle:n,onClose:i}=e;return(0,o.jsx)(J.Z,{title:t,onClose:i,iconType:D?u.L.ArrowLeft:u.L.Close,children:(0,o.jsx)(c.x,{textStyle:p.TextStyle.label.medium.default,color:p.d9.text.subdued.default,children:n})})},renderFooterContent:()=>(0,o.jsxs)(q,{children:[(0,o.jsx)(r.Z,{justifyContent:l.dy.flexStart,children:B&&(0,o.jsx)(m.Z,{type:_.L$.tertiary,onClick:er,children:g.ZP.t("menu_orderDeadlineModal_removeOrderDeadlineCtaLabel")})}),(0,o.jsxs)(r.Z,{justifyContent:l.dy.flexEnd,children:[(0,o.jsx)(m.Z,{type:_.L$.plain,onClick:E,children:g.ZP.t("commonStrings_wizard_cancel")}),(0,o.jsx)(m.Z,{type:_.L$.primary,onClick:el,isDisabled:!$,state:f?_.BN.loading:_.BN.default,children:ei()||g.ZP.t("commonStrings_wizard_save")})]})]}),title:g.ZP.t("menu_orderDeadlineModal_title"),subtitle:g.ZP.t("menu_orderDeadlineModal_subtitle"),onClose:E,children:(0,o.jsx)(ee,{isMobile:O,autoHeight:z,children:(0,o.jsx)(Q,{isMobile:O,isLoading:L,isPickup:A,showRecommendedView:z,setShowRecommendedView:W,recommendedOrderDeadlineTimeString:ed,timePickerData:N,etaText:et,largeOrderBufferText:en,checkoutModeStrings:eo,selectedDateOption:Y.orderDeadlineDate,selectedTimeOption:Y.orderDeadline,selectedCheckoutMode:Y.checkoutMode,onChangeDate:e=>{var t,n,o;let i;if(e===Y.orderDeadlineDate)return;let r=(null==N?void 0:null===(t=N.dateTimeOptions.find(t=>t.dateKey===e))||void 0===t?void 0:t.times)||[],l=null===(n=r[0])||void 0===n?void 0:n.timeKey,d=Y.orderDeadline;if(d&&r.length){let t=T(e,x(M,new Date(d).getTime(),P),P,"YYYY-MM-DD h:mm A"),n=r.filter(e=>new Date(e.timeKey).getTime()<=t);i=null===(o=n[n.length-1])||void 0===o?void 0:o.timeKey}K(t=>({...t,orderDeadline:i||l,orderDeadlineDate:e}))},onChangeTime:e=>{K(t=>({...t,orderDeadline:e}))},onChangeCheckoutMode:e=>{K(t=>({...t,checkoutMode:e}))}})})})}},437769:function(e,t,n){n.d(t,{$b:function(){return d},TL:function(){return a},V1:function(){return s},fA:function(){return u},v4:function(){return l}});var o=n(731690),i=n(526372),r=n(106148);let l=(e,t,n)=>n?(0,i.lb)({unitAmount:n,currency:t,userLocale:e,concise:!0}):"",d=e=>5*(Math.round(e/5)||1),a=e=>5*(Math.round(e/5)||1),s=(e,t,n,i,l)=>{if(!i||!l)return"";let d=a(i),s=new Date(l).getTime()+6e4*d,{isToday:u,isTomorrow:c,dateOnlyString:p,timeOnlyString:m}=(0,r.YJ)({timezone:t,timestampInMillis:s,userLocale:e,options:{month:"short"}});if(u)return n?o.ZP.t("menu_orderDeadlineModal_estimatedPickup_text",{timeDisplay:m}):o.ZP.t("menu_orderDeadlineModal_estimatedDelivery_text",{timeDisplay:m});if(c)return n?o.ZP.t("menu_orderDeadlineModal_estimatedPickupTomorrow_text",{timeDisplay:m}):o.ZP.t("menu_orderDeadlineModal_estimatedDeliveryTomorrow_text",{timeDisplay:m});let _="".concat(p,", ").concat(m);return n?o.ZP.t("menu_orderDeadlineModal_estimatedPickup_text",{timeDisplay:_}):o.ZP.t("menu_orderDeadlineModal_estimatedDelivery_text",{timeDisplay:_})},u=(e,t,n)=>{if(!n)return{automatic:"",manual:""};let{isToday:i,isTomorrow:l,dateOnlyString:d,timeOnlyString:a}=(0,r.YJ)({timezone:t,timestampInMillis:new Date(n).getTime(),userLocale:e,options:{month:"short"}});return i?{automatic:o.ZP.t("menu_orderDeadlineModal_checkoutMode_automaticWithTime_description",{timeDisplay:a}),manual:o.ZP.t("menu_orderDeadlineModal_checkoutMode_manualWithTime_description",{timeDisplay:a})}:l?{automatic:o.ZP.t("menu_orderDeadlineModal_checkoutMode_automaticTomorrow_description",{timeDisplay:a}),manual:o.ZP.t("menu_orderDeadlineModal_checkoutMode_manualTomorrow_description",{timeDisplay:a})}:{automatic:o.ZP.t("menu_orderDeadlineModal_checkoutMode_automaticWithDate_description",{timeDisplay:a,dateDisplay:d}),manual:o.ZP.t("menu_orderDeadlineModal_checkoutMode_manualWithDate_description",{timeDisplay:a,dateDisplay:d})}}},997962:function(e,t,n){var o=n(361967);n(313773);var i=n(222047),r=n(428377),l=n(228436),d=n(700020),a=n(484497),s=n(431325),u=n(731690);t.Z=e=>{let{tooltipPosition:t=i.eW.bottomCenter,isVisible:n=!1,children:c}=e;return(0,o.jsx)(r.Z,{position:t,size:l.Oz.small,type:d.fR.informational,content:u.ZP.t("menu_groupOrderModal_recommendedDeadlineCallout_text"),leadingIcon:{type:a.IconType.PromoFill,size:s.J.tiny},interactionType:d.IQ.controlled,isVisible:n,boundariesElement:i.Q$.document,children:()=>c})}},183332:function(e,t,n){var o=n(313773),i=n(660732),r=n(277595);t.Z=()=>{let[e,t]=o.useState(!1);return o.useEffect(()=>{if(e){let e=setTimeout(()=>{t(!1)},i.v);return()=>clearTimeout(e)}},[e]),{showTooltip:e,setShowTooltip:t,fireEventTracking:e=>(0,r.aP)(e)}}},525285:function(e,t,n){var o=n(361967);n(313773);var i=n(74152),r=n(117874),l=n(613531),d=n(509300),a=n(560930),s=n(655914),u=n(345002),c=n(731690);t.Z=e=>{let{isPickup:t,showBackButton:n=!1,onClose:p}=e;return(0,o.jsx)(i.Z,{isOpen:!0,hasCloseButton:!1,title:t?c.ZP.t("menu_groupCarts_storeSchedulingUnavailableModal_pickup_title"):c.ZP.t("menu_groupCarts_storeSchedulingUnavailableModal_title"),onClose:p,renderContentHeader:e=>{let{title:t,onClose:i}=e;return(0,o.jsx)(u.Z,{title:t,onClose:i,iconType:n?r.L.ArrowLeft:void 0})},primaryAction:{text:c.ZP.t("menu_groupCarts_got_it"),onClick:p},children:(0,o.jsx)(l.Z,{size:d.$f.medium,children:(0,o.jsx)(a.x,{style:s.TextStyle.label.medium.default,children:t?c.ZP.t("menu_groupCarts_storeSchedulingUnavailableModal_pickup_body"):c.ZP.t("menu_groupCarts_storeSchedulingUnavailableModal_body")})})})}},191835:function(e,t,n){var o=n(222679),i=n(305017),r=n(783616);t.Z=e=>{let t=(0,o.y)(i.pc.ddfbLoqAutocheckoutDefaultMode,!1);return e&&t?r.ON.AUTOMATIC:r.ON.MANUAL}},756477:function(e,t,n){var o=n(222679),i=n(305017),r=n(939829),l=n(840727);t.Z=()=>{let{getValue:e}=(0,r.d)(i.pc.ddfbLoqAutocheckoutOnlyForCreateV2,!1,l.OverrideTypes.boolean);return{canCreatorCreateScheduledCarts:(0,o.y)(i.pc.ddfbLoqAutocheckoutCreatorV2,!1),canCreatorEditScheduledCarts:(0,o.y)(i.pc.ddfbLoqAutocheckoutPostCreateV2,!1),triggerExposureForScheduleCartsExperience:()=>{let t=e();return"boolean"==typeof t&&t}}}},708894:function(e,t,n){var o=n(222679),i=n(305017);t.Z=e=>{let{scheduledWindowStart:t,scheduledWindowEnd:n,isSchedulingEnabled:r}=e;return{shouldShowOrderDeadline:"hide_order_deadline"!==(0,o.AY)(i.pc.ddfbGroupCartSettingsType,"control")||!r||!!t&&!!n}}},630209:function(e,t,n){n.d(t,{w:function(){return a}});var o=n(794304),i=n(15425),r=n.n(i),l=n(13794);let d=e=>["getOrderDeadlineOptions",e.storeId,e.isPickup?"true":"false",e.menuId||"",e.scheduledWindowStart||"",e.scheduledWindowEnd||"",Math.floor(new Date().getTime()/9e5).toString()],a=e=>{let[t]=(0,o.useUGClient)(r()),{data:n,isLoading:a,isFetching:s,error:u,refetch:c}=(0,l.useQuery)({queryFn:()=>t.getCxAutocheckoutV1OrderDeadlineOptions({storeId:e.storeId,fulfillmentType:e.isPickup?i.CommonFulfillmentType.Pickup:i.CommonFulfillmentType.Delivery,menuId:e.menuId,scheduledWindowStart:e.scheduledWindowStart?new Date(e.scheduledWindowStart):void 0,scheduledWindowEnd:e.scheduledWindowEnd?new Date(e.scheduledWindowEnd):void 0}),queryKey:d(e),refetchOnWindowFocus:!1,refetchOnMount:!1,retry:!1,staleTime:0,enabled:!(null==e?void 0:e.skip)&&!!e.storeId});return{data:n,isLoading:a,isFetching:s,error:u,refetch:c}}},414338:function(e,t,n){n.d(t,{C2:function(){return p},WT:function(){return h},eX:function(){return m},tW:function(){return _}});var o=n(902093),i=n(159967),r=n(543315),l=n(560930),d=n(655914),a=n(177560),s=n(484497),u=n(117874),c=n(918564);let p=(0,c.default)(o.Z).withConfig({componentId:"sc-579e3258-0"})(["background-color:",";padding:",";border-radius:",";margin-bottom:",";"],i.Q2.usage.color.warning.subdued.default,r.Spacing.small,r.Spacing.xSmall,r.Spacing.medium),m=(0,c.default)(l.x).attrs({textStyle:d.TextStyle.body.medium.default}).withConfig({componentId:"sc-579e3258-1"})(["width:85%;"]),_=(0,c.default)(a.Z).attrs({iconType:s.IconType.Close,size:u.rm.medium}).withConfig({componentId:"sc-579e3258-2"})(["margin-top:-8px;margin-right:-8px;"]),h=(0,c.default)(o.Z).withConfig({componentId:"sc-579e3258-3"})(["background-color:#fff0ed;border-radius:",";padding:",";margin:",";align-items:center;"],r.Spacing.xSmall,r.Spacing.xSmall,r.Spacing.small)},363329:function(e,t){t.Z=e=>({etaMinute:(null==e?void 0:e.eta_minute)||0,bufferMinsForLargeOrders:(null==e?void 0:e.buffer)||0,dollarThresholdForLargeOrders:(null==e?void 0:e.dollar_threshold)||0})},142916:function(e,t,n){var o=n(783616),i=n(970501);t.Z=e=>{let{orderDeadlineTimestamp:t,scheduledWindowStart:n,scheduledWindowEnd:r,checkoutMode:l,deliveryAddressId:d,paymentMethodId:a,budgetId:s,expenseCode:u,expenseNotes:c,dasherTipPercentage:p}=e;return l&&t?{checkoutMode:l===o.ON.AUTOMATIC?i.Gmt.AUTOMATIC:i.Gmt.MANUAL,scheduledWindowStart:n?new Date(n).toISOString():void 0,scheduledWindowEnd:r?new Date(r).toISOString():void 0,orderDeadline:Math.floor(t/1e3).toString(),...l===o.ON.AUTOMATIC?{deliveryAddressId:d||"860646264",paymentMethodId:a,budgetId:s,expenseCode:u,expenseNotes:c,dasherTipPercentage:p||0}:{}}:{}}}}]);
//# sourceMappingURL=44446-715f9c79107c4aca.js.map
//# debugId=27382744-7cd9-5b7c-adfd-f9653f0b5dd5
